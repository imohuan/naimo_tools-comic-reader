import{C as Tr,r as G,D as De,w as de,c as re,x as Ke,d as Ae,o as Oe,f as Z,g as V,h as O,j,e as Y,z as An,l as K,q as te,a as l0,p as rt,t as ne,v as qe,E as Bn,i as ve,u as W,k as ue,s as $r,F as _e,m as ke,b as d0,S as wn,G as _n,n as Dn,H as Fn,A as Sn,I as kn,J as Rn,K as Pn,B as In}from"./main.Ai_8gEU-.js";import{c as nt,a as Tn,u as $n,F as Ln,_ as On,b as Un}from"./HotkeyBinding.vue_vue_type_script_setup_true_lang.BOrO1eqK.js";var o0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hn(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function zn(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var n=r.default;if(typeof n=="function"){var e=function t(){var o=!1;try{o=this instanceof t}catch{}return o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};e.prototype=n.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(t){var o=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,o.get?o:{enumerable:!0,get:function(){return r[t]}})}),e}var ut={exports:{}};function Nn(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ft={exports:{}};const Mn={},qn=Object.freeze(Object.defineProperty({__proto__:null,default:Mn},Symbol.toStringTag,{value:"Module"})),jn=zn(qn);var Wn=ft.exports,T0;function oe(){return T0||(T0=1,(function(r,n){(function(e,t){r.exports=t()})(Wn,function(){var e=e||(function(t,o){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof o0<"u"&&o0.crypto&&(i=o0.crypto),!i&&typeof Nn=="function")try{i=jn}catch{}var c=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},l=Object.create||(function(){function m(){}return function(x){var y;return m.prototype=x,y=new m,m.prototype=null,y}})(),p={},s=p.lib={},a=s.Base=(function(){return{extend:function(m){var x=l(this);return m&&x.mixIn(m),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var x in m)m.hasOwnProperty(x)&&(this[x]=m[x]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),u=s.WordArray=a.extend({init:function(m,x){m=this.words=m||[],x!=o?this.sigBytes=x:this.sigBytes=m.length*4},toString:function(m){return(m||v).stringify(this)},concat:function(m){var x=this.words,y=m.words,A=this.sigBytes,_=m.sigBytes;if(this.clamp(),A%4)for(var F=0;F<_;F++){var T=y[F>>>2]>>>24-F%4*8&255;x[A+F>>>2]|=T<<24-(A+F)%4*8}else for(var S=0;S<_;S+=4)x[A+S>>>2]=y[S>>>2];return this.sigBytes+=_,this},clamp:function(){var m=this.words,x=this.sigBytes;m[x>>>2]&=4294967295<<32-x%4*8,m.length=t.ceil(x/4)},clone:function(){var m=a.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var x=[],y=0;y<m;y+=4)x.push(c());return new u.init(x,m)}}),f=p.enc={},v=f.Hex={stringify:function(m){for(var x=m.words,y=m.sigBytes,A=[],_=0;_<y;_++){var F=x[_>>>2]>>>24-_%4*8&255;A.push((F>>>4).toString(16)),A.push((F&15).toString(16))}return A.join("")},parse:function(m){for(var x=m.length,y=[],A=0;A<x;A+=2)y[A>>>3]|=parseInt(m.substr(A,2),16)<<24-A%8*4;return new u.init(y,x/2)}},d=f.Latin1={stringify:function(m){for(var x=m.words,y=m.sigBytes,A=[],_=0;_<y;_++){var F=x[_>>>2]>>>24-_%4*8&255;A.push(String.fromCharCode(F))}return A.join("")},parse:function(m){for(var x=m.length,y=[],A=0;A<x;A++)y[A>>>2]|=(m.charCodeAt(A)&255)<<24-A%4*8;return new u.init(y,x)}},C=f.Utf8={stringify:function(m){try{return decodeURIComponent(escape(d.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return d.parse(unescape(encodeURIComponent(m)))}},h=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(m){typeof m=="string"&&(m=C.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var x,y=this._data,A=y.words,_=y.sigBytes,F=this.blockSize,T=F*4,S=_/T;m?S=t.ceil(S):S=t.max((S|0)-this._minBufferSize,0);var g=S*F,b=t.min(g*4,_);if(g){for(var U=0;U<g;U+=F)this._doProcessBlock(A,U);x=A.splice(0,g),y.sigBytes-=b}return new u.init(x,b)},clone:function(){var m=a.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0});s.Hasher=h.extend({cfg:a.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){m&&this._append(m);var x=this._doFinalize();return x},blockSize:16,_createHelper:function(m){return function(x,y){return new m.init(y).finalize(x)}},_createHmacHelper:function(m){return function(x,y){return new B.HMAC.init(m,y).finalize(x)}}});var B=p.algo={};return p})(Math);return e})})(ft)),ft.exports}var dt={exports:{}},Kn=dt.exports,$0;function Yt(){return $0||($0=1,(function(r,n){(function(e,t){r.exports=t(oe())})(Kn,function(e){return(function(t){var o=e,i=o.lib,c=i.Base,l=i.WordArray,p=o.x64={};p.Word=c.extend({init:function(s,a){this.high=s,this.low=a}}),p.WordArray=c.extend({init:function(s,a){s=this.words=s||[],a!=t?this.sigBytes=a:this.sigBytes=s.length*8},toX32:function(){for(var s=this.words,a=s.length,u=[],f=0;f<a;f++){var v=s[f];u.push(v.high),u.push(v.low)}return l.create(u,this.sigBytes)},clone:function(){for(var s=c.clone.call(this),a=s.words=this.words.slice(0),u=a.length,f=0;f<u;f++)a[f]=a[f].clone();return s}})})(),e})})(dt)),dt.exports}var pt={exports:{}},Vn=pt.exports,L0;function Xn(){return L0||(L0=1,(function(r,n){(function(e,t){r.exports=t(oe())})(Vn,function(e){return(function(){if(typeof ArrayBuffer=="function"){var t=e,o=t.lib,i=o.WordArray,c=i.init,l=i.init=function(p){if(p instanceof ArrayBuffer&&(p=new Uint8Array(p)),(p instanceof Int8Array||typeof Uint8ClampedArray<"u"&&p instanceof Uint8ClampedArray||p instanceof Int16Array||p instanceof Uint16Array||p instanceof Int32Array||p instanceof Uint32Array||p instanceof Float32Array||p instanceof Float64Array)&&(p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength)),p instanceof Uint8Array){for(var s=p.byteLength,a=[],u=0;u<s;u++)a[u>>>2]|=p[u]<<24-u%4*8;c.call(this,a,s)}else c.apply(this,arguments)};l.prototype=i}})(),e.lib.WordArray})})(pt)),pt.exports}var ht={exports:{}},Gn=ht.exports,O0;function Qn(){return O0||(O0=1,(function(r,n){(function(e,t){r.exports=t(oe())})(Gn,function(e){return(function(){var t=e,o=t.lib,i=o.WordArray,c=t.enc;c.Utf16=c.Utf16BE={stringify:function(p){for(var s=p.words,a=p.sigBytes,u=[],f=0;f<a;f+=2){var v=s[f>>>2]>>>16-f%4*8&65535;u.push(String.fromCharCode(v))}return u.join("")},parse:function(p){for(var s=p.length,a=[],u=0;u<s;u++)a[u>>>1]|=p.charCodeAt(u)<<16-u%2*16;return i.create(a,s*2)}},c.Utf16LE={stringify:function(p){for(var s=p.words,a=p.sigBytes,u=[],f=0;f<a;f+=2){var v=l(s[f>>>2]>>>16-f%4*8&65535);u.push(String.fromCharCode(v))}return u.join("")},parse:function(p){for(var s=p.length,a=[],u=0;u<s;u++)a[u>>>1]|=l(p.charCodeAt(u)<<16-u%2*16);return i.create(a,s*2)}};function l(p){return p<<8&4278255360|p>>>8&16711935}})(),e.enc.Utf16})})(ht)),ht.exports}var vt={exports:{}},Yn=vt.exports,U0;function Ue(){return U0||(U0=1,(function(r,n){(function(e,t){r.exports=t(oe())})(Yn,function(e){return(function(){var t=e,o=t.lib,i=o.WordArray,c=t.enc;c.Base64={stringify:function(p){var s=p.words,a=p.sigBytes,u=this._map;p.clamp();for(var f=[],v=0;v<a;v+=3)for(var d=s[v>>>2]>>>24-v%4*8&255,C=s[v+1>>>2]>>>24-(v+1)%4*8&255,h=s[v+2>>>2]>>>24-(v+2)%4*8&255,B=d<<16|C<<8|h,m=0;m<4&&v+m*.75<a;m++)f.push(u.charAt(B>>>6*(3-m)&63));var x=u.charAt(64);if(x)for(;f.length%4;)f.push(x);return f.join("")},parse:function(p){var s=p.length,a=this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var f=0;f<a.length;f++)u[a.charCodeAt(f)]=f}var v=a.charAt(64);if(v){var d=p.indexOf(v);d!==-1&&(s=d)}return l(p,s,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function l(p,s,a){for(var u=[],f=0,v=0;v<s;v++)if(v%4){var d=a[p.charCodeAt(v-1)]<<v%4*2,C=a[p.charCodeAt(v)]>>>6-v%4*2,h=d|C;u[f>>>2]|=h<<24-f%4*8,f++}return i.create(u,f)}})(),e.enc.Base64})})(vt)),vt.exports}var mt={exports:{}},Zn=mt.exports,H0;function Jn(){return H0||(H0=1,(function(r,n){(function(e,t){r.exports=t(oe())})(Zn,function(e){return(function(){var t=e,o=t.lib,i=o.WordArray,c=t.enc;c.Base64url={stringify:function(p,s){s===void 0&&(s=!0);var a=p.words,u=p.sigBytes,f=s?this._safe_map:this._map;p.clamp();for(var v=[],d=0;d<u;d+=3)for(var C=a[d>>>2]>>>24-d%4*8&255,h=a[d+1>>>2]>>>24-(d+1)%4*8&255,B=a[d+2>>>2]>>>24-(d+2)%4*8&255,m=C<<16|h<<8|B,x=0;x<4&&d+x*.75<u;x++)v.push(f.charAt(m>>>6*(3-x)&63));var y=f.charAt(64);if(y)for(;v.length%4;)v.push(y);return v.join("")},parse:function(p,s){s===void 0&&(s=!0);var a=p.length,u=s?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var v=0;v<u.length;v++)f[u.charCodeAt(v)]=v}var d=u.charAt(64);if(d){var C=p.indexOf(d);C!==-1&&(a=C)}return l(p,a,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function l(p,s,a){for(var u=[],f=0,v=0;v<s;v++)if(v%4){var d=a[p.charCodeAt(v-1)]<<v%4*2,C=a[p.charCodeAt(v)]>>>6-v%4*2,h=d|C;u[f>>>2]|=h<<24-f%4*8,f++}return i.create(u,f)}})(),e.enc.Base64url})})(mt)),mt.exports}var gt={exports:{}},eo=gt.exports,z0;function He(){return z0||(z0=1,(function(r,n){(function(e,t){r.exports=t(oe())})(eo,function(e){return(function(t){var o=e,i=o.lib,c=i.WordArray,l=i.Hasher,p=o.algo,s=[];(function(){for(var C=0;C<64;C++)s[C]=t.abs(t.sin(C+1))*4294967296|0})();var a=p.MD5=l.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(C,h){for(var B=0;B<16;B++){var m=h+B,x=C[m];C[m]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var y=this._hash.words,A=C[h+0],_=C[h+1],F=C[h+2],T=C[h+3],S=C[h+4],g=C[h+5],b=C[h+6],U=C[h+7],E=C[h+8],k=C[h+9],P=C[h+10],D=C[h+11],w=C[h+12],$=C[h+13],z=C[h+14],M=C[h+15],R=y[0],I=y[1],N=y[2],H=y[3];R=u(R,I,N,H,A,7,s[0]),H=u(H,R,I,N,_,12,s[1]),N=u(N,H,R,I,F,17,s[2]),I=u(I,N,H,R,T,22,s[3]),R=u(R,I,N,H,S,7,s[4]),H=u(H,R,I,N,g,12,s[5]),N=u(N,H,R,I,b,17,s[6]),I=u(I,N,H,R,U,22,s[7]),R=u(R,I,N,H,E,7,s[8]),H=u(H,R,I,N,k,12,s[9]),N=u(N,H,R,I,P,17,s[10]),I=u(I,N,H,R,D,22,s[11]),R=u(R,I,N,H,w,7,s[12]),H=u(H,R,I,N,$,12,s[13]),N=u(N,H,R,I,z,17,s[14]),I=u(I,N,H,R,M,22,s[15]),R=f(R,I,N,H,_,5,s[16]),H=f(H,R,I,N,b,9,s[17]),N=f(N,H,R,I,D,14,s[18]),I=f(I,N,H,R,A,20,s[19]),R=f(R,I,N,H,g,5,s[20]),H=f(H,R,I,N,P,9,s[21]),N=f(N,H,R,I,M,14,s[22]),I=f(I,N,H,R,S,20,s[23]),R=f(R,I,N,H,k,5,s[24]),H=f(H,R,I,N,z,9,s[25]),N=f(N,H,R,I,T,14,s[26]),I=f(I,N,H,R,E,20,s[27]),R=f(R,I,N,H,$,5,s[28]),H=f(H,R,I,N,F,9,s[29]),N=f(N,H,R,I,U,14,s[30]),I=f(I,N,H,R,w,20,s[31]),R=v(R,I,N,H,g,4,s[32]),H=v(H,R,I,N,E,11,s[33]),N=v(N,H,R,I,D,16,s[34]),I=v(I,N,H,R,z,23,s[35]),R=v(R,I,N,H,_,4,s[36]),H=v(H,R,I,N,S,11,s[37]),N=v(N,H,R,I,U,16,s[38]),I=v(I,N,H,R,P,23,s[39]),R=v(R,I,N,H,$,4,s[40]),H=v(H,R,I,N,A,11,s[41]),N=v(N,H,R,I,T,16,s[42]),I=v(I,N,H,R,b,23,s[43]),R=v(R,I,N,H,k,4,s[44]),H=v(H,R,I,N,w,11,s[45]),N=v(N,H,R,I,M,16,s[46]),I=v(I,N,H,R,F,23,s[47]),R=d(R,I,N,H,A,6,s[48]),H=d(H,R,I,N,U,10,s[49]),N=d(N,H,R,I,z,15,s[50]),I=d(I,N,H,R,g,21,s[51]),R=d(R,I,N,H,w,6,s[52]),H=d(H,R,I,N,T,10,s[53]),N=d(N,H,R,I,P,15,s[54]),I=d(I,N,H,R,_,21,s[55]),R=d(R,I,N,H,E,6,s[56]),H=d(H,R,I,N,M,10,s[57]),N=d(N,H,R,I,b,15,s[58]),I=d(I,N,H,R,$,21,s[59]),R=d(R,I,N,H,S,6,s[60]),H=d(H,R,I,N,D,10,s[61]),N=d(N,H,R,I,F,15,s[62]),I=d(I,N,H,R,k,21,s[63]),y[0]=y[0]+R|0,y[1]=y[1]+I|0,y[2]=y[2]+N|0,y[3]=y[3]+H|0},_doFinalize:function(){var C=this._data,h=C.words,B=this._nDataBytes*8,m=C.sigBytes*8;h[m>>>5]|=128<<24-m%32;var x=t.floor(B/4294967296),y=B;h[(m+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,h[(m+64>>>9<<4)+14]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,C.sigBytes=(h.length+1)*4,this._process();for(var A=this._hash,_=A.words,F=0;F<4;F++){var T=_[F];_[F]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return A},clone:function(){var C=l.clone.call(this);return C._hash=this._hash.clone(),C}});function u(C,h,B,m,x,y,A){var _=C+(h&B|~h&m)+x+A;return(_<<y|_>>>32-y)+h}function f(C,h,B,m,x,y,A){var _=C+(h&m|B&~m)+x+A;return(_<<y|_>>>32-y)+h}function v(C,h,B,m,x,y,A){var _=C+(h^B^m)+x+A;return(_<<y|_>>>32-y)+h}function d(C,h,B,m,x,y,A){var _=C+(B^(h|~m))+x+A;return(_<<y|_>>>32-y)+h}o.MD5=l._createHelper(a),o.HmacMD5=l._createHmacHelper(a)})(Math),e.MD5})})(gt)),gt.exports}var Ct={exports:{}},to=Ct.exports,N0;function Lr(){return N0||(N0=1,(function(r,n){(function(e,t){r.exports=t(oe())})(to,function(e){return(function(){var t=e,o=t.lib,i=o.WordArray,c=o.Hasher,l=t.algo,p=[],s=l.SHA1=c.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,u){for(var f=this._hash.words,v=f[0],d=f[1],C=f[2],h=f[3],B=f[4],m=0;m<80;m++){if(m<16)p[m]=a[u+m]|0;else{var x=p[m-3]^p[m-8]^p[m-14]^p[m-16];p[m]=x<<1|x>>>31}var y=(v<<5|v>>>27)+B+p[m];m<20?y+=(d&C|~d&h)+1518500249:m<40?y+=(d^C^h)+1859775393:m<60?y+=(d&C|d&h|C&h)-1894007588:y+=(d^C^h)-899497514,B=h,h=C,C=d<<30|d>>>2,d=v,v=y}f[0]=f[0]+v|0,f[1]=f[1]+d|0,f[2]=f[2]+C|0,f[3]=f[3]+h|0,f[4]=f[4]+B|0},_doFinalize:function(){var a=this._data,u=a.words,f=this._nDataBytes*8,v=a.sigBytes*8;return u[v>>>5]|=128<<24-v%32,u[(v+64>>>9<<4)+14]=Math.floor(f/4294967296),u[(v+64>>>9<<4)+15]=f,a.sigBytes=u.length*4,this._process(),this._hash},clone:function(){var a=c.clone.call(this);return a._hash=this._hash.clone(),a}});t.SHA1=c._createHelper(s),t.HmacSHA1=c._createHmacHelper(s)})(),e.SHA1})})(Ct)),Ct.exports}var yt={exports:{}},ro=yt.exports,M0;function p0(){return M0||(M0=1,(function(r,n){(function(e,t){r.exports=t(oe())})(ro,function(e){return(function(t){var o=e,i=o.lib,c=i.WordArray,l=i.Hasher,p=o.algo,s=[],a=[];(function(){function v(B){for(var m=t.sqrt(B),x=2;x<=m;x++)if(!(B%x))return!1;return!0}function d(B){return(B-(B|0))*4294967296|0}for(var C=2,h=0;h<64;)v(C)&&(h<8&&(s[h]=d(t.pow(C,1/2))),a[h]=d(t.pow(C,1/3)),h++),C++})();var u=[],f=p.SHA256=l.extend({_doReset:function(){this._hash=new c.init(s.slice(0))},_doProcessBlock:function(v,d){for(var C=this._hash.words,h=C[0],B=C[1],m=C[2],x=C[3],y=C[4],A=C[5],_=C[6],F=C[7],T=0;T<64;T++){if(T<16)u[T]=v[d+T]|0;else{var S=u[T-15],g=(S<<25|S>>>7)^(S<<14|S>>>18)^S>>>3,b=u[T-2],U=(b<<15|b>>>17)^(b<<13|b>>>19)^b>>>10;u[T]=g+u[T-7]+U+u[T-16]}var E=y&A^~y&_,k=h&B^h&m^B&m,P=(h<<30|h>>>2)^(h<<19|h>>>13)^(h<<10|h>>>22),D=(y<<26|y>>>6)^(y<<21|y>>>11)^(y<<7|y>>>25),w=F+D+E+a[T]+u[T],$=P+k;F=_,_=A,A=y,y=x+w|0,x=m,m=B,B=h,h=w+$|0}C[0]=C[0]+h|0,C[1]=C[1]+B|0,C[2]=C[2]+m|0,C[3]=C[3]+x|0,C[4]=C[4]+y|0,C[5]=C[5]+A|0,C[6]=C[6]+_|0,C[7]=C[7]+F|0},_doFinalize:function(){var v=this._data,d=v.words,C=this._nDataBytes*8,h=v.sigBytes*8;return d[h>>>5]|=128<<24-h%32,d[(h+64>>>9<<4)+14]=t.floor(C/4294967296),d[(h+64>>>9<<4)+15]=C,v.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var v=l.clone.call(this);return v._hash=this._hash.clone(),v}});o.SHA256=l._createHelper(f),o.HmacSHA256=l._createHmacHelper(f)})(Math),e.SHA256})})(yt)),yt.exports}var Et={exports:{}},no=Et.exports,q0;function oo(){return q0||(q0=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),p0())})(no,function(e){return(function(){var t=e,o=t.lib,i=o.WordArray,c=t.algo,l=c.SHA256,p=c.SHA224=l.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var s=l._doFinalize.call(this);return s.sigBytes-=4,s}});t.SHA224=l._createHelper(p),t.HmacSHA224=l._createHmacHelper(p)})(),e.SHA224})})(Et)),Et.exports}var bt={exports:{}},so=bt.exports,j0;function Or(){return j0||(j0=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),Yt())})(so,function(e){return(function(){var t=e,o=t.lib,i=o.Hasher,c=t.x64,l=c.Word,p=c.WordArray,s=t.algo;function a(){return l.create.apply(l,arguments)}var u=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],f=[];(function(){for(var d=0;d<80;d++)f[d]=a()})();var v=s.SHA512=i.extend({_doReset:function(){this._hash=new p.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(d,C){for(var h=this._hash.words,B=h[0],m=h[1],x=h[2],y=h[3],A=h[4],_=h[5],F=h[6],T=h[7],S=B.high,g=B.low,b=m.high,U=m.low,E=x.high,k=x.low,P=y.high,D=y.low,w=A.high,$=A.low,z=_.high,M=_.low,R=F.high,I=F.low,N=T.high,H=T.low,X=S,ee=g,ie=b,Q=U,Pe=E,q=k,se=P,ae=D,ce=w,xe=$,Ie=z,Ge=M,lt=R,Qe=I,n0=N,Ye=H,be=0;be<80;be++){var ye,Fe,ct=f[be];if(be<16)Fe=ct.high=d[C+be*2]|0,ye=ct.low=d[C+be*2+1]|0;else{var b0=f[be-15],ze=b0.high,Ze=b0.low,xn=(ze>>>1|Ze<<31)^(ze>>>8|Ze<<24)^ze>>>7,A0=(Ze>>>1|ze<<31)^(Ze>>>8|ze<<24)^(Ze>>>7|ze<<25),B0=f[be-2],Ne=B0.high,Je=B0.low,un=(Ne>>>19|Je<<13)^(Ne<<3|Je>>>29)^Ne>>>6,w0=(Je>>>19|Ne<<13)^(Je<<3|Ne>>>29)^(Je>>>6|Ne<<26),_0=f[be-7],fn=_0.high,dn=_0.low,D0=f[be-16],pn=D0.high,F0=D0.low;ye=A0+dn,Fe=xn+fn+(ye>>>0<A0>>>0?1:0),ye=ye+w0,Fe=Fe+un+(ye>>>0<w0>>>0?1:0),ye=ye+F0,Fe=Fe+pn+(ye>>>0<F0>>>0?1:0),ct.high=Fe,ct.low=ye}var hn=ce&Ie^~ce&lt,S0=xe&Ge^~xe&Qe,vn=X&ie^X&Pe^ie&Pe,mn=ee&Q^ee&q^Q&q,gn=(X>>>28|ee<<4)^(X<<30|ee>>>2)^(X<<25|ee>>>7),k0=(ee>>>28|X<<4)^(ee<<30|X>>>2)^(ee<<25|X>>>7),Cn=(ce>>>14|xe<<18)^(ce>>>18|xe<<14)^(ce<<23|xe>>>9),yn=(xe>>>14|ce<<18)^(xe>>>18|ce<<14)^(xe<<23|ce>>>9),R0=u[be],En=R0.high,P0=R0.low,Ce=Ye+yn,Se=n0+Cn+(Ce>>>0<Ye>>>0?1:0),Ce=Ce+S0,Se=Se+hn+(Ce>>>0<S0>>>0?1:0),Ce=Ce+P0,Se=Se+En+(Ce>>>0<P0>>>0?1:0),Ce=Ce+ye,Se=Se+Fe+(Ce>>>0<ye>>>0?1:0),I0=k0+mn,bn=gn+vn+(I0>>>0<k0>>>0?1:0);n0=lt,Ye=Qe,lt=Ie,Qe=Ge,Ie=ce,Ge=xe,xe=ae+Ce|0,ce=se+Se+(xe>>>0<ae>>>0?1:0)|0,se=Pe,ae=q,Pe=ie,q=Q,ie=X,Q=ee,ee=Ce+I0|0,X=Se+bn+(ee>>>0<Ce>>>0?1:0)|0}g=B.low=g+ee,B.high=S+X+(g>>>0<ee>>>0?1:0),U=m.low=U+Q,m.high=b+ie+(U>>>0<Q>>>0?1:0),k=x.low=k+q,x.high=E+Pe+(k>>>0<q>>>0?1:0),D=y.low=D+ae,y.high=P+se+(D>>>0<ae>>>0?1:0),$=A.low=$+xe,A.high=w+ce+($>>>0<xe>>>0?1:0),M=_.low=M+Ge,_.high=z+Ie+(M>>>0<Ge>>>0?1:0),I=F.low=I+Qe,F.high=R+lt+(I>>>0<Qe>>>0?1:0),H=T.low=H+Ye,T.high=N+n0+(H>>>0<Ye>>>0?1:0)},_doFinalize:function(){var d=this._data,C=d.words,h=this._nDataBytes*8,B=d.sigBytes*8;C[B>>>5]|=128<<24-B%32,C[(B+128>>>10<<5)+30]=Math.floor(h/4294967296),C[(B+128>>>10<<5)+31]=h,d.sigBytes=C.length*4,this._process();var m=this._hash.toX32();return m},clone:function(){var d=i.clone.call(this);return d._hash=this._hash.clone(),d},blockSize:1024/32});t.SHA512=i._createHelper(v),t.HmacSHA512=i._createHmacHelper(v)})(),e.SHA512})})(bt)),bt.exports}var At={exports:{}},ao=At.exports,W0;function io(){return W0||(W0=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),Yt(),Or())})(ao,function(e){return(function(){var t=e,o=t.x64,i=o.Word,c=o.WordArray,l=t.algo,p=l.SHA512,s=l.SHA384=p.extend({_doReset:function(){this._hash=new c.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var a=p._doFinalize.call(this);return a.sigBytes-=16,a}});t.SHA384=p._createHelper(s),t.HmacSHA384=p._createHmacHelper(s)})(),e.SHA384})})(At)),At.exports}var Bt={exports:{}},lo=Bt.exports,K0;function co(){return K0||(K0=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),Yt())})(lo,function(e){return(function(t){var o=e,i=o.lib,c=i.WordArray,l=i.Hasher,p=o.x64,s=p.Word,a=o.algo,u=[],f=[],v=[];(function(){for(var h=1,B=0,m=0;m<24;m++){u[h+5*B]=(m+1)*(m+2)/2%64;var x=B%5,y=(2*h+3*B)%5;h=x,B=y}for(var h=0;h<5;h++)for(var B=0;B<5;B++)f[h+5*B]=B+(2*h+3*B)%5*5;for(var A=1,_=0;_<24;_++){for(var F=0,T=0,S=0;S<7;S++){if(A&1){var g=(1<<S)-1;g<32?T^=1<<g:F^=1<<g-32}A&128?A=A<<1^113:A<<=1}v[_]=s.create(F,T)}})();var d=[];(function(){for(var h=0;h<25;h++)d[h]=s.create()})();var C=a.SHA3=l.extend({cfg:l.cfg.extend({outputLength:512}),_doReset:function(){for(var h=this._state=[],B=0;B<25;B++)h[B]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(h,B){for(var m=this._state,x=this.blockSize/2,y=0;y<x;y++){var A=h[B+2*y],_=h[B+2*y+1];A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360;var F=m[y];F.high^=_,F.low^=A}for(var T=0;T<24;T++){for(var S=0;S<5;S++){for(var g=0,b=0,U=0;U<5;U++){var F=m[S+5*U];g^=F.high,b^=F.low}var E=d[S];E.high=g,E.low=b}for(var S=0;S<5;S++)for(var k=d[(S+4)%5],P=d[(S+1)%5],D=P.high,w=P.low,g=k.high^(D<<1|w>>>31),b=k.low^(w<<1|D>>>31),U=0;U<5;U++){var F=m[S+5*U];F.high^=g,F.low^=b}for(var $=1;$<25;$++){var g,b,F=m[$],z=F.high,M=F.low,R=u[$];R<32?(g=z<<R|M>>>32-R,b=M<<R|z>>>32-R):(g=M<<R-32|z>>>64-R,b=z<<R-32|M>>>64-R);var I=d[f[$]];I.high=g,I.low=b}var N=d[0],H=m[0];N.high=H.high,N.low=H.low;for(var S=0;S<5;S++)for(var U=0;U<5;U++){var $=S+5*U,F=m[$],X=d[$],ee=d[(S+1)%5+5*U],ie=d[(S+2)%5+5*U];F.high=X.high^~ee.high&ie.high,F.low=X.low^~ee.low&ie.low}var F=m[0],Q=v[T];F.high^=Q.high,F.low^=Q.low}},_doFinalize:function(){var h=this._data,B=h.words;this._nDataBytes*8;var m=h.sigBytes*8,x=this.blockSize*32;B[m>>>5]|=1<<24-m%32,B[(t.ceil((m+1)/x)*x>>>5)-1]|=128,h.sigBytes=B.length*4,this._process();for(var y=this._state,A=this.cfg.outputLength/8,_=A/8,F=[],T=0;T<_;T++){var S=y[T],g=S.high,b=S.low;g=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,F.push(b),F.push(g)}return new c.init(F,A)},clone:function(){for(var h=l.clone.call(this),B=h._state=this._state.slice(0),m=0;m<25;m++)B[m]=B[m].clone();return h}});o.SHA3=l._createHelper(C),o.HmacSHA3=l._createHmacHelper(C)})(Math),e.SHA3})})(Bt)),Bt.exports}var wt={exports:{}},xo=wt.exports,V0;function uo(){return V0||(V0=1,(function(r,n){(function(e,t){r.exports=t(oe())})(xo,function(e){/** @preserve
			(c) 2012 by CÃ©dric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return(function(t){var o=e,i=o.lib,c=i.WordArray,l=i.Hasher,p=o.algo,s=c.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),a=c.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=c.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=c.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),v=c.create([0,1518500249,1859775393,2400959708,2840853838]),d=c.create([1352829926,1548603684,1836072691,2053994217,0]),C=p.RIPEMD160=l.extend({_doReset:function(){this._hash=c.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(_,F){for(var T=0;T<16;T++){var S=F+T,g=_[S];_[S]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360}var b=this._hash.words,U=v.words,E=d.words,k=s.words,P=a.words,D=u.words,w=f.words,$,z,M,R,I,N,H,X,ee,ie;N=$=b[0],H=z=b[1],X=M=b[2],ee=R=b[3],ie=I=b[4];for(var Q,T=0;T<80;T+=1)Q=$+_[F+k[T]]|0,T<16?Q+=h(z,M,R)+U[0]:T<32?Q+=B(z,M,R)+U[1]:T<48?Q+=m(z,M,R)+U[2]:T<64?Q+=x(z,M,R)+U[3]:Q+=y(z,M,R)+U[4],Q=Q|0,Q=A(Q,D[T]),Q=Q+I|0,$=I,I=R,R=A(M,10),M=z,z=Q,Q=N+_[F+P[T]]|0,T<16?Q+=y(H,X,ee)+E[0]:T<32?Q+=x(H,X,ee)+E[1]:T<48?Q+=m(H,X,ee)+E[2]:T<64?Q+=B(H,X,ee)+E[3]:Q+=h(H,X,ee)+E[4],Q=Q|0,Q=A(Q,w[T]),Q=Q+ie|0,N=ie,ie=ee,ee=A(X,10),X=H,H=Q;Q=b[1]+M+ee|0,b[1]=b[2]+R+ie|0,b[2]=b[3]+I+N|0,b[3]=b[4]+$+H|0,b[4]=b[0]+z+X|0,b[0]=Q},_doFinalize:function(){var _=this._data,F=_.words,T=this._nDataBytes*8,S=_.sigBytes*8;F[S>>>5]|=128<<24-S%32,F[(S+64>>>9<<4)+14]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,_.sigBytes=(F.length+1)*4,this._process();for(var g=this._hash,b=g.words,U=0;U<5;U++){var E=b[U];b[U]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}return g},clone:function(){var _=l.clone.call(this);return _._hash=this._hash.clone(),_}});function h(_,F,T){return _^F^T}function B(_,F,T){return _&F|~_&T}function m(_,F,T){return(_|~F)^T}function x(_,F,T){return _&T|F&~T}function y(_,F,T){return _^(F|~T)}function A(_,F){return _<<F|_>>>32-F}o.RIPEMD160=l._createHelper(C),o.HmacRIPEMD160=l._createHmacHelper(C)})(),e.RIPEMD160})})(wt)),wt.exports}var _t={exports:{}},fo=_t.exports,X0;function h0(){return X0||(X0=1,(function(r,n){(function(e,t){r.exports=t(oe())})(fo,function(e){(function(){var t=e,o=t.lib,i=o.Base,c=t.enc,l=c.Utf8,p=t.algo;p.HMAC=i.extend({init:function(s,a){s=this._hasher=new s.init,typeof a=="string"&&(a=l.parse(a));var u=s.blockSize,f=u*4;a.sigBytes>f&&(a=s.finalize(a)),a.clamp();for(var v=this._oKey=a.clone(),d=this._iKey=a.clone(),C=v.words,h=d.words,B=0;B<u;B++)C[B]^=1549556828,h[B]^=909522486;v.sigBytes=d.sigBytes=f,this.reset()},reset:function(){var s=this._hasher;s.reset(),s.update(this._iKey)},update:function(s){return this._hasher.update(s),this},finalize:function(s){var a=this._hasher,u=a.finalize(s);a.reset();var f=a.finalize(this._oKey.clone().concat(u));return f}})})()})})(_t)),_t.exports}var Dt={exports:{}},po=Dt.exports,G0;function ho(){return G0||(G0=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),p0(),h0())})(po,function(e){return(function(){var t=e,o=t.lib,i=o.Base,c=o.WordArray,l=t.algo,p=l.SHA256,s=l.HMAC,a=l.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:p,iterations:25e4}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var v=this.cfg,d=s.create(v.hasher,u),C=c.create(),h=c.create([1]),B=C.words,m=h.words,x=v.keySize,y=v.iterations;B.length<x;){var A=d.update(f).finalize(h);d.reset();for(var _=A.words,F=_.length,T=A,S=1;S<y;S++){T=d.finalize(T),d.reset();for(var g=T.words,b=0;b<F;b++)_[b]^=g[b]}C.concat(A),m[0]++}return C.sigBytes=x*4,C}});t.PBKDF2=function(u,f,v){return a.create(v).compute(u,f)}})(),e.PBKDF2})})(Dt)),Dt.exports}var Ft={exports:{}},vo=Ft.exports,Q0;function Re(){return Q0||(Q0=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),Lr(),h0())})(vo,function(e){return(function(){var t=e,o=t.lib,i=o.Base,c=o.WordArray,l=t.algo,p=l.MD5,s=l.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:p,iterations:1}),init:function(a){this.cfg=this.cfg.extend(a)},compute:function(a,u){for(var f,v=this.cfg,d=v.hasher.create(),C=c.create(),h=C.words,B=v.keySize,m=v.iterations;h.length<B;){f&&d.update(f),f=d.update(a).finalize(u),d.reset();for(var x=1;x<m;x++)f=d.finalize(f),d.reset();C.concat(f)}return C.sigBytes=B*4,C}});t.EvpKDF=function(a,u,f){return s.create(f).compute(a,u)}})(),e.EvpKDF})})(Ft)),Ft.exports}var St={exports:{}},mo=St.exports,Y0;function fe(){return Y0||(Y0=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),Re())})(mo,function(e){e.lib.Cipher||(function(t){var o=e,i=o.lib,c=i.Base,l=i.WordArray,p=i.BufferedBlockAlgorithm,s=o.enc;s.Utf8;var a=s.Base64,u=o.algo,f=u.EvpKDF,v=i.Cipher=p.extend({cfg:c.extend(),createEncryptor:function(g,b){return this.create(this._ENC_XFORM_MODE,g,b)},createDecryptor:function(g,b){return this.create(this._DEC_XFORM_MODE,g,b)},init:function(g,b,U){this.cfg=this.cfg.extend(U),this._xformMode=g,this._key=b,this.reset()},reset:function(){p.reset.call(this),this._doReset()},process:function(g){return this._append(g),this._process()},finalize:function(g){g&&this._append(g);var b=this._doFinalize();return b},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function g(b){return typeof b=="string"?S:_}return function(b){return{encrypt:function(U,E,k){return g(E).encrypt(b,U,E,k)},decrypt:function(U,E,k){return g(E).decrypt(b,U,E,k)}}}})()});i.StreamCipher=v.extend({_doFinalize:function(){var g=this._process(!0);return g},blockSize:1});var d=o.mode={},C=i.BlockCipherMode=c.extend({createEncryptor:function(g,b){return this.Encryptor.create(g,b)},createDecryptor:function(g,b){return this.Decryptor.create(g,b)},init:function(g,b){this._cipher=g,this._iv=b}}),h=d.CBC=(function(){var g=C.extend();g.Encryptor=g.extend({processBlock:function(U,E){var k=this._cipher,P=k.blockSize;b.call(this,U,E,P),k.encryptBlock(U,E),this._prevBlock=U.slice(E,E+P)}}),g.Decryptor=g.extend({processBlock:function(U,E){var k=this._cipher,P=k.blockSize,D=U.slice(E,E+P);k.decryptBlock(U,E),b.call(this,U,E,P),this._prevBlock=D}});function b(U,E,k){var P,D=this._iv;D?(P=D,this._iv=t):P=this._prevBlock;for(var w=0;w<k;w++)U[E+w]^=P[w]}return g})(),B=o.pad={},m=B.Pkcs7={pad:function(g,b){for(var U=b*4,E=U-g.sigBytes%U,k=E<<24|E<<16|E<<8|E,P=[],D=0;D<E;D+=4)P.push(k);var w=l.create(P,E);g.concat(w)},unpad:function(g){var b=g.words[g.sigBytes-1>>>2]&255;g.sigBytes-=b}};i.BlockCipher=v.extend({cfg:v.cfg.extend({mode:h,padding:m}),reset:function(){var g;v.reset.call(this);var b=this.cfg,U=b.iv,E=b.mode;this._xformMode==this._ENC_XFORM_MODE?g=E.createEncryptor:(g=E.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==g?this._mode.init(this,U&&U.words):(this._mode=g.call(E,this,U&&U.words),this._mode.__creator=g)},_doProcessBlock:function(g,b){this._mode.processBlock(g,b)},_doFinalize:function(){var g,b=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(b.pad(this._data,this.blockSize),g=this._process(!0)):(g=this._process(!0),b.unpad(g)),g},blockSize:128/32});var x=i.CipherParams=c.extend({init:function(g){this.mixIn(g)},toString:function(g){return(g||this.formatter).stringify(this)}}),y=o.format={},A=y.OpenSSL={stringify:function(g){var b,U=g.ciphertext,E=g.salt;return E?b=l.create([1398893684,1701076831]).concat(E).concat(U):b=U,b.toString(a)},parse:function(g){var b,U=a.parse(g),E=U.words;return E[0]==1398893684&&E[1]==1701076831&&(b=l.create(E.slice(2,4)),E.splice(0,4),U.sigBytes-=16),x.create({ciphertext:U,salt:b})}},_=i.SerializableCipher=c.extend({cfg:c.extend({format:A}),encrypt:function(g,b,U,E){E=this.cfg.extend(E);var k=g.createEncryptor(U,E),P=k.finalize(b),D=k.cfg;return x.create({ciphertext:P,key:U,iv:D.iv,algorithm:g,mode:D.mode,padding:D.padding,blockSize:g.blockSize,formatter:E.format})},decrypt:function(g,b,U,E){E=this.cfg.extend(E),b=this._parse(b,E.format);var k=g.createDecryptor(U,E).finalize(b.ciphertext);return k},_parse:function(g,b){return typeof g=="string"?b.parse(g,this):g}}),F=o.kdf={},T=F.OpenSSL={execute:function(g,b,U,E,k){if(E||(E=l.random(64/8)),k)var P=f.create({keySize:b+U,hasher:k}).compute(g,E);else var P=f.create({keySize:b+U}).compute(g,E);var D=l.create(P.words.slice(b),U*4);return P.sigBytes=b*4,x.create({key:P,iv:D,salt:E})}},S=i.PasswordBasedCipher=_.extend({cfg:_.cfg.extend({kdf:T}),encrypt:function(g,b,U,E){E=this.cfg.extend(E);var k=E.kdf.execute(U,g.keySize,g.ivSize,E.salt,E.hasher);E.iv=k.iv;var P=_.encrypt.call(this,g,b,k.key,E);return P.mixIn(k),P},decrypt:function(g,b,U,E){E=this.cfg.extend(E),b=this._parse(b,E.format);var k=E.kdf.execute(U,g.keySize,g.ivSize,b.salt,E.hasher);E.iv=k.iv;var P=_.decrypt.call(this,g,b,k.key,E);return P}})})()})})(St)),St.exports}var kt={exports:{}},go=kt.exports,Z0;function Co(){return Z0||(Z0=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),fe())})(go,function(e){return e.mode.CFB=(function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(i,c){var l=this._cipher,p=l.blockSize;o.call(this,i,c,p,l),this._prevBlock=i.slice(c,c+p)}}),t.Decryptor=t.extend({processBlock:function(i,c){var l=this._cipher,p=l.blockSize,s=i.slice(c,c+p);o.call(this,i,c,p,l),this._prevBlock=s}});function o(i,c,l,p){var s,a=this._iv;a?(s=a.slice(0),this._iv=void 0):s=this._prevBlock,p.encryptBlock(s,0);for(var u=0;u<l;u++)i[c+u]^=s[u]}return t})(),e.mode.CFB})})(kt)),kt.exports}var Rt={exports:{}},yo=Rt.exports,J0;function Eo(){return J0||(J0=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),fe())})(yo,function(e){return e.mode.CTR=(function(){var t=e.lib.BlockCipherMode.extend(),o=t.Encryptor=t.extend({processBlock:function(i,c){var l=this._cipher,p=l.blockSize,s=this._iv,a=this._counter;s&&(a=this._counter=s.slice(0),this._iv=void 0);var u=a.slice(0);l.encryptBlock(u,0),a[p-1]=a[p-1]+1|0;for(var f=0;f<p;f++)i[c+f]^=u[f]}});return t.Decryptor=o,t})(),e.mode.CTR})})(Rt)),Rt.exports}var Pt={exports:{}},bo=Pt.exports,er;function Ao(){return er||(er=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),fe())})(bo,function(e){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return e.mode.CTRGladman=(function(){var t=e.lib.BlockCipherMode.extend();function o(l){if((l>>24&255)===255){var p=l>>16&255,s=l>>8&255,a=l&255;p===255?(p=0,s===255?(s=0,a===255?a=0:++a):++s):++p,l=0,l+=p<<16,l+=s<<8,l+=a}else l+=1<<24;return l}function i(l){return(l[0]=o(l[0]))===0&&(l[1]=o(l[1])),l}var c=t.Encryptor=t.extend({processBlock:function(l,p){var s=this._cipher,a=s.blockSize,u=this._iv,f=this._counter;u&&(f=this._counter=u.slice(0),this._iv=void 0),i(f);var v=f.slice(0);s.encryptBlock(v,0);for(var d=0;d<a;d++)l[p+d]^=v[d]}});return t.Decryptor=c,t})(),e.mode.CTRGladman})})(Pt)),Pt.exports}var It={exports:{}},Bo=It.exports,tr;function wo(){return tr||(tr=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),fe())})(Bo,function(e){return e.mode.OFB=(function(){var t=e.lib.BlockCipherMode.extend(),o=t.Encryptor=t.extend({processBlock:function(i,c){var l=this._cipher,p=l.blockSize,s=this._iv,a=this._keystream;s&&(a=this._keystream=s.slice(0),this._iv=void 0),l.encryptBlock(a,0);for(var u=0;u<p;u++)i[c+u]^=a[u]}});return t.Decryptor=o,t})(),e.mode.OFB})})(It)),It.exports}var Tt={exports:{}},_o=Tt.exports,rr;function Do(){return rr||(rr=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),fe())})(_o,function(e){return e.mode.ECB=(function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(o,i){this._cipher.encryptBlock(o,i)}}),t.Decryptor=t.extend({processBlock:function(o,i){this._cipher.decryptBlock(o,i)}}),t})(),e.mode.ECB})})(Tt)),Tt.exports}var $t={exports:{}},Fo=$t.exports,nr;function So(){return nr||(nr=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),fe())})(Fo,function(e){return e.pad.AnsiX923={pad:function(t,o){var i=t.sigBytes,c=o*4,l=c-i%c,p=i+l-1;t.clamp(),t.words[p>>>2]|=l<<24-p%4*8,t.sigBytes+=l},unpad:function(t){var o=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=o}},e.pad.Ansix923})})($t)),$t.exports}var Lt={exports:{}},ko=Lt.exports,or;function Ro(){return or||(or=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),fe())})(ko,function(e){return e.pad.Iso10126={pad:function(t,o){var i=o*4,c=i-t.sigBytes%i;t.concat(e.lib.WordArray.random(c-1)).concat(e.lib.WordArray.create([c<<24],1))},unpad:function(t){var o=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=o}},e.pad.Iso10126})})(Lt)),Lt.exports}var Ot={exports:{}},Po=Ot.exports,sr;function Io(){return sr||(sr=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),fe())})(Po,function(e){return e.pad.Iso97971={pad:function(t,o){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,o)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})})(Ot)),Ot.exports}var Ut={exports:{}},To=Ut.exports,ar;function $o(){return ar||(ar=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),fe())})(To,function(e){return e.pad.ZeroPadding={pad:function(t,o){var i=o*4;t.clamp(),t.sigBytes+=i-(t.sigBytes%i||i)},unpad:function(t){for(var o=t.words,i=t.sigBytes-1,i=t.sigBytes-1;i>=0;i--)if(o[i>>>2]>>>24-i%4*8&255){t.sigBytes=i+1;break}}},e.pad.ZeroPadding})})(Ut)),Ut.exports}var Ht={exports:{}},Lo=Ht.exports,ir;function Oo(){return ir||(ir=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),fe())})(Lo,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})})(Ht)),Ht.exports}var zt={exports:{}},Uo=zt.exports,lr;function Ho(){return lr||(lr=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),fe())})(Uo,function(e){return(function(t){var o=e,i=o.lib,c=i.CipherParams,l=o.enc,p=l.Hex,s=o.format;s.Hex={stringify:function(a){return a.ciphertext.toString(p)},parse:function(a){var u=p.parse(a);return c.create({ciphertext:u})}}})(),e.format.Hex})})(zt)),zt.exports}var Nt={exports:{}},zo=Nt.exports,cr;function No(){return cr||(cr=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),Ue(),He(),Re(),fe())})(zo,function(e){return(function(){var t=e,o=t.lib,i=o.BlockCipher,c=t.algo,l=[],p=[],s=[],a=[],u=[],f=[],v=[],d=[],C=[],h=[];(function(){for(var x=[],y=0;y<256;y++)y<128?x[y]=y<<1:x[y]=y<<1^283;for(var A=0,_=0,y=0;y<256;y++){var F=_^_<<1^_<<2^_<<3^_<<4;F=F>>>8^F&255^99,l[A]=F,p[F]=A;var T=x[A],S=x[T],g=x[S],b=x[F]*257^F*16843008;s[A]=b<<24|b>>>8,a[A]=b<<16|b>>>16,u[A]=b<<8|b>>>24,f[A]=b;var b=g*16843009^S*65537^T*257^A*16843008;v[F]=b<<24|b>>>8,d[F]=b<<16|b>>>16,C[F]=b<<8|b>>>24,h[F]=b,A?(A=T^x[x[x[g^T]]],_^=x[x[_]]):A=_=1}})();var B=[0,1,2,4,8,16,32,64,128,27,54],m=c.AES=i.extend({_doReset:function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var y=this._keyPriorReset=this._key,A=y.words,_=y.sigBytes/4,F=this._nRounds=_+6,T=(F+1)*4,S=this._keySchedule=[],g=0;g<T;g++)g<_?S[g]=A[g]:(x=S[g-1],g%_?_>6&&g%_==4&&(x=l[x>>>24]<<24|l[x>>>16&255]<<16|l[x>>>8&255]<<8|l[x&255]):(x=x<<8|x>>>24,x=l[x>>>24]<<24|l[x>>>16&255]<<16|l[x>>>8&255]<<8|l[x&255],x^=B[g/_|0]<<24),S[g]=S[g-_]^x);for(var b=this._invKeySchedule=[],U=0;U<T;U++){var g=T-U;if(U%4)var x=S[g];else var x=S[g-4];U<4||g<=4?b[U]=x:b[U]=v[l[x>>>24]]^d[l[x>>>16&255]]^C[l[x>>>8&255]]^h[l[x&255]]}}},encryptBlock:function(x,y){this._doCryptBlock(x,y,this._keySchedule,s,a,u,f,l)},decryptBlock:function(x,y){var A=x[y+1];x[y+1]=x[y+3],x[y+3]=A,this._doCryptBlock(x,y,this._invKeySchedule,v,d,C,h,p);var A=x[y+1];x[y+1]=x[y+3],x[y+3]=A},_doCryptBlock:function(x,y,A,_,F,T,S,g){for(var b=this._nRounds,U=x[y]^A[0],E=x[y+1]^A[1],k=x[y+2]^A[2],P=x[y+3]^A[3],D=4,w=1;w<b;w++){var $=_[U>>>24]^F[E>>>16&255]^T[k>>>8&255]^S[P&255]^A[D++],z=_[E>>>24]^F[k>>>16&255]^T[P>>>8&255]^S[U&255]^A[D++],M=_[k>>>24]^F[P>>>16&255]^T[U>>>8&255]^S[E&255]^A[D++],R=_[P>>>24]^F[U>>>16&255]^T[E>>>8&255]^S[k&255]^A[D++];U=$,E=z,k=M,P=R}var $=(g[U>>>24]<<24|g[E>>>16&255]<<16|g[k>>>8&255]<<8|g[P&255])^A[D++],z=(g[E>>>24]<<24|g[k>>>16&255]<<16|g[P>>>8&255]<<8|g[U&255])^A[D++],M=(g[k>>>24]<<24|g[P>>>16&255]<<16|g[U>>>8&255]<<8|g[E&255])^A[D++],R=(g[P>>>24]<<24|g[U>>>16&255]<<16|g[E>>>8&255]<<8|g[k&255])^A[D++];x[y]=$,x[y+1]=z,x[y+2]=M,x[y+3]=R},keySize:256/32});t.AES=i._createHelper(m)})(),e.AES})})(Nt)),Nt.exports}var Mt={exports:{}},Mo=Mt.exports,xr;function qo(){return xr||(xr=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),Ue(),He(),Re(),fe())})(Mo,function(e){return(function(){var t=e,o=t.lib,i=o.WordArray,c=o.BlockCipher,l=t.algo,p=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],a=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],v=l.DES=c.extend({_doReset:function(){for(var B=this._key,m=B.words,x=[],y=0;y<56;y++){var A=p[y]-1;x[y]=m[A>>>5]>>>31-A%32&1}for(var _=this._subKeys=[],F=0;F<16;F++){for(var T=_[F]=[],S=a[F],y=0;y<24;y++)T[y/6|0]|=x[(s[y]-1+S)%28]<<31-y%6,T[4+(y/6|0)]|=x[28+(s[y+24]-1+S)%28]<<31-y%6;T[0]=T[0]<<1|T[0]>>>31;for(var y=1;y<7;y++)T[y]=T[y]>>>(y-1)*4+3;T[7]=T[7]<<5|T[7]>>>27}for(var g=this._invSubKeys=[],y=0;y<16;y++)g[y]=_[15-y]},encryptBlock:function(B,m){this._doCryptBlock(B,m,this._subKeys)},decryptBlock:function(B,m){this._doCryptBlock(B,m,this._invSubKeys)},_doCryptBlock:function(B,m,x){this._lBlock=B[m],this._rBlock=B[m+1],d.call(this,4,252645135),d.call(this,16,65535),C.call(this,2,858993459),C.call(this,8,16711935),d.call(this,1,1431655765);for(var y=0;y<16;y++){for(var A=x[y],_=this._lBlock,F=this._rBlock,T=0,S=0;S<8;S++)T|=u[S][((F^A[S])&f[S])>>>0];this._lBlock=F,this._rBlock=_^T}var g=this._lBlock;this._lBlock=this._rBlock,this._rBlock=g,d.call(this,1,1431655765),C.call(this,8,16711935),C.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),B[m]=this._lBlock,B[m+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function d(B,m){var x=(this._lBlock>>>B^this._rBlock)&m;this._rBlock^=x,this._lBlock^=x<<B}function C(B,m){var x=(this._rBlock>>>B^this._lBlock)&m;this._lBlock^=x,this._rBlock^=x<<B}t.DES=c._createHelper(v);var h=l.TripleDES=c.extend({_doReset:function(){var B=this._key,m=B.words;if(m.length!==2&&m.length!==4&&m.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=m.slice(0,2),y=m.length<4?m.slice(0,2):m.slice(2,4),A=m.length<6?m.slice(0,2):m.slice(4,6);this._des1=v.createEncryptor(i.create(x)),this._des2=v.createEncryptor(i.create(y)),this._des3=v.createEncryptor(i.create(A))},encryptBlock:function(B,m){this._des1.encryptBlock(B,m),this._des2.decryptBlock(B,m),this._des3.encryptBlock(B,m)},decryptBlock:function(B,m){this._des3.decryptBlock(B,m),this._des2.encryptBlock(B,m),this._des1.decryptBlock(B,m)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=c._createHelper(h)})(),e.TripleDES})})(Mt)),Mt.exports}var qt={exports:{}},jo=qt.exports,ur;function Wo(){return ur||(ur=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),Ue(),He(),Re(),fe())})(jo,function(e){return(function(){var t=e,o=t.lib,i=o.StreamCipher,c=t.algo,l=c.RC4=i.extend({_doReset:function(){for(var a=this._key,u=a.words,f=a.sigBytes,v=this._S=[],d=0;d<256;d++)v[d]=d;for(var d=0,C=0;d<256;d++){var h=d%f,B=u[h>>>2]>>>24-h%4*8&255;C=(C+v[d]+B)%256;var m=v[d];v[d]=v[C],v[C]=m}this._i=this._j=0},_doProcessBlock:function(a,u){a[u]^=p.call(this)},keySize:256/32,ivSize:0});function p(){for(var a=this._S,u=this._i,f=this._j,v=0,d=0;d<4;d++){u=(u+1)%256,f=(f+a[u])%256;var C=a[u];a[u]=a[f],a[f]=C,v|=a[(a[u]+a[f])%256]<<24-d*8}return this._i=u,this._j=f,v}t.RC4=i._createHelper(l);var s=c.RC4Drop=l.extend({cfg:l.cfg.extend({drop:192}),_doReset:function(){l._doReset.call(this);for(var a=this.cfg.drop;a>0;a--)p.call(this)}});t.RC4Drop=i._createHelper(s)})(),e.RC4})})(qt)),qt.exports}var jt={exports:{}},Ko=jt.exports,fr;function Vo(){return fr||(fr=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),Ue(),He(),Re(),fe())})(Ko,function(e){return(function(){var t=e,o=t.lib,i=o.StreamCipher,c=t.algo,l=[],p=[],s=[],a=c.Rabbit=i.extend({_doReset:function(){for(var f=this._key.words,v=this.cfg.iv,d=0;d<4;d++)f[d]=(f[d]<<8|f[d]>>>24)&16711935|(f[d]<<24|f[d]>>>8)&4278255360;var C=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],h=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var d=0;d<4;d++)u.call(this);for(var d=0;d<8;d++)h[d]^=C[d+4&7];if(v){var B=v.words,m=B[0],x=B[1],y=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,A=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,_=y>>>16|A&4294901760,F=A<<16|y&65535;h[0]^=y,h[1]^=_,h[2]^=A,h[3]^=F,h[4]^=y,h[5]^=_,h[6]^=A,h[7]^=F;for(var d=0;d<4;d++)u.call(this)}},_doProcessBlock:function(f,v){var d=this._X;u.call(this),l[0]=d[0]^d[5]>>>16^d[3]<<16,l[1]=d[2]^d[7]>>>16^d[5]<<16,l[2]=d[4]^d[1]>>>16^d[7]<<16,l[3]=d[6]^d[3]>>>16^d[1]<<16;for(var C=0;C<4;C++)l[C]=(l[C]<<8|l[C]>>>24)&16711935|(l[C]<<24|l[C]>>>8)&4278255360,f[v+C]^=l[C]},blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,v=this._C,d=0;d<8;d++)p[d]=v[d];v[0]=v[0]+1295307597+this._b|0,v[1]=v[1]+3545052371+(v[0]>>>0<p[0]>>>0?1:0)|0,v[2]=v[2]+886263092+(v[1]>>>0<p[1]>>>0?1:0)|0,v[3]=v[3]+1295307597+(v[2]>>>0<p[2]>>>0?1:0)|0,v[4]=v[4]+3545052371+(v[3]>>>0<p[3]>>>0?1:0)|0,v[5]=v[5]+886263092+(v[4]>>>0<p[4]>>>0?1:0)|0,v[6]=v[6]+1295307597+(v[5]>>>0<p[5]>>>0?1:0)|0,v[7]=v[7]+3545052371+(v[6]>>>0<p[6]>>>0?1:0)|0,this._b=v[7]>>>0<p[7]>>>0?1:0;for(var d=0;d<8;d++){var C=f[d]+v[d],h=C&65535,B=C>>>16,m=((h*h>>>17)+h*B>>>15)+B*B,x=((C&4294901760)*C|0)+((C&65535)*C|0);s[d]=m^x}f[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,f[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,f[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,f[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,f[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,f[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,f[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,f[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.Rabbit=i._createHelper(a)})(),e.Rabbit})})(jt)),jt.exports}var Wt={exports:{}},Xo=Wt.exports,dr;function Go(){return dr||(dr=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),Ue(),He(),Re(),fe())})(Xo,function(e){return(function(){var t=e,o=t.lib,i=o.StreamCipher,c=t.algo,l=[],p=[],s=[],a=c.RabbitLegacy=i.extend({_doReset:function(){var f=this._key.words,v=this.cfg.iv,d=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],C=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var h=0;h<4;h++)u.call(this);for(var h=0;h<8;h++)C[h]^=d[h+4&7];if(v){var B=v.words,m=B[0],x=B[1],y=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,A=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,_=y>>>16|A&4294901760,F=A<<16|y&65535;C[0]^=y,C[1]^=_,C[2]^=A,C[3]^=F,C[4]^=y,C[5]^=_,C[6]^=A,C[7]^=F;for(var h=0;h<4;h++)u.call(this)}},_doProcessBlock:function(f,v){var d=this._X;u.call(this),l[0]=d[0]^d[5]>>>16^d[3]<<16,l[1]=d[2]^d[7]>>>16^d[5]<<16,l[2]=d[4]^d[1]>>>16^d[7]<<16,l[3]=d[6]^d[3]>>>16^d[1]<<16;for(var C=0;C<4;C++)l[C]=(l[C]<<8|l[C]>>>24)&16711935|(l[C]<<24|l[C]>>>8)&4278255360,f[v+C]^=l[C]},blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,v=this._C,d=0;d<8;d++)p[d]=v[d];v[0]=v[0]+1295307597+this._b|0,v[1]=v[1]+3545052371+(v[0]>>>0<p[0]>>>0?1:0)|0,v[2]=v[2]+886263092+(v[1]>>>0<p[1]>>>0?1:0)|0,v[3]=v[3]+1295307597+(v[2]>>>0<p[2]>>>0?1:0)|0,v[4]=v[4]+3545052371+(v[3]>>>0<p[3]>>>0?1:0)|0,v[5]=v[5]+886263092+(v[4]>>>0<p[4]>>>0?1:0)|0,v[6]=v[6]+1295307597+(v[5]>>>0<p[5]>>>0?1:0)|0,v[7]=v[7]+3545052371+(v[6]>>>0<p[6]>>>0?1:0)|0,this._b=v[7]>>>0<p[7]>>>0?1:0;for(var d=0;d<8;d++){var C=f[d]+v[d],h=C&65535,B=C>>>16,m=((h*h>>>17)+h*B>>>15)+B*B,x=((C&4294901760)*C|0)+((C&65535)*C|0);s[d]=m^x}f[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,f[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,f[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,f[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,f[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,f[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,f[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,f[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.RabbitLegacy=i._createHelper(a)})(),e.RabbitLegacy})})(Wt)),Wt.exports}var Kt={exports:{}},Qo=Kt.exports,pr;function Yo(){return pr||(pr=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),Ue(),He(),Re(),fe())})(Qo,function(e){return(function(){var t=e,o=t.lib,i=o.BlockCipher,c=t.algo;const l=16,p=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var a={pbox:[],sbox:[]};function u(h,B){let m=B>>24&255,x=B>>16&255,y=B>>8&255,A=B&255,_=h.sbox[0][m]+h.sbox[1][x];return _=_^h.sbox[2][y],_=_+h.sbox[3][A],_}function f(h,B,m){let x=B,y=m,A;for(let _=0;_<l;++_)x=x^h.pbox[_],y=u(h,x)^y,A=x,x=y,y=A;return A=x,x=y,y=A,y=y^h.pbox[l],x=x^h.pbox[l+1],{left:x,right:y}}function v(h,B,m){let x=B,y=m,A;for(let _=l+1;_>1;--_)x=x^h.pbox[_],y=u(h,x)^y,A=x,x=y,y=A;return A=x,x=y,y=A,y=y^h.pbox[1],x=x^h.pbox[0],{left:x,right:y}}function d(h,B,m){for(let F=0;F<4;F++){h.sbox[F]=[];for(let T=0;T<256;T++)h.sbox[F][T]=s[F][T]}let x=0;for(let F=0;F<l+2;F++)h.pbox[F]=p[F]^B[x],x++,x>=m&&(x=0);let y=0,A=0,_=0;for(let F=0;F<l+2;F+=2)_=f(h,y,A),y=_.left,A=_.right,h.pbox[F]=y,h.pbox[F+1]=A;for(let F=0;F<4;F++)for(let T=0;T<256;T+=2)_=f(h,y,A),y=_.left,A=_.right,h.sbox[F][T]=y,h.sbox[F][T+1]=A;return!0}var C=c.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var h=this._keyPriorReset=this._key,B=h.words,m=h.sigBytes/4;d(a,B,m)}},encryptBlock:function(h,B){var m=f(a,h[B],h[B+1]);h[B]=m.left,h[B+1]=m.right},decryptBlock:function(h,B){var m=v(a,h[B],h[B+1]);h[B]=m.left,h[B+1]=m.right},blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=i._createHelper(C)})(),e.Blowfish})})(Kt)),Kt.exports}var Zo=ut.exports,hr;function Jo(){return hr||(hr=1,(function(r,n){(function(e,t,o){r.exports=t(oe(),Yt(),Xn(),Qn(),Ue(),Jn(),He(),Lr(),p0(),oo(),Or(),io(),co(),uo(),h0(),ho(),Re(),fe(),Co(),Eo(),Ao(),wo(),Do(),So(),Ro(),Io(),$o(),Oo(),Ho(),No(),qo(),Wo(),Vo(),Go(),Yo())})(Zo,function(e){return e})})(ut)),ut.exports}var es=Jo();const Me=Hn(es);function Ur(r,n){return function(){return r.apply(n,arguments)}}const{toString:ts}=Object.prototype,{getPrototypeOf:v0}=Object,{iterator:Zt,toStringTag:Hr}=Symbol,Jt=(r=>n=>{const e=ts.call(n);return r[e]||(r[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Be=r=>(r=r.toLowerCase(),n=>Jt(n)===r),e0=r=>n=>typeof n===r,{isArray:Ve}=Array,We=e0("undefined");function ot(r){return r!==null&&!We(r)&&r.constructor!==null&&!We(r.constructor)&&me(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const zr=Be("ArrayBuffer");function rs(r){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(r):n=r&&r.buffer&&zr(r.buffer),n}const ns=e0("string"),me=e0("function"),Nr=e0("number"),st=r=>r!==null&&typeof r=="object",os=r=>r===!0||r===!1,Vt=r=>{if(Jt(r)!=="object")return!1;const n=v0(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Hr in r)&&!(Zt in r)},ss=r=>{if(!st(r)||ot(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},as=Be("Date"),is=Be("File"),ls=Be("Blob"),cs=Be("FileList"),xs=r=>st(r)&&me(r.pipe),us=r=>{let n;return r&&(typeof FormData=="function"&&r instanceof FormData||me(r.append)&&((n=Jt(r))==="formdata"||n==="object"&&me(r.toString)&&r.toString()==="[object FormData]"))},fs=Be("URLSearchParams"),[ds,ps,hs,vs]=["ReadableStream","Request","Response","Headers"].map(Be),ms=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function at(r,n,{allOwnKeys:e=!1}={}){if(r===null||typeof r>"u")return;let t,o;if(typeof r!="object"&&(r=[r]),Ve(r))for(t=0,o=r.length;t<o;t++)n.call(null,r[t],t,r);else{if(ot(r))return;const i=e?Object.getOwnPropertyNames(r):Object.keys(r),c=i.length;let l;for(t=0;t<c;t++)l=i[t],n.call(null,r[l],l,r)}}function Mr(r,n){if(ot(r))return null;n=n.toLowerCase();const e=Object.keys(r);let t=e.length,o;for(;t-- >0;)if(o=e[t],n===o.toLowerCase())return o;return null}const Te=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qr=r=>!We(r)&&r!==Te;function c0(){const{caseless:r,skipUndefined:n}=qr(this)&&this||{},e={},t=(o,i)=>{const c=r&&Mr(e,i)||i;Vt(e[c])&&Vt(o)?e[c]=c0(e[c],o):Vt(o)?e[c]=c0({},o):Ve(o)?e[c]=o.slice():(!n||!We(o))&&(e[c]=o)};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&at(arguments[o],t);return e}const gs=(r,n,e,{allOwnKeys:t}={})=>(at(n,(o,i)=>{e&&me(o)?r[i]=Ur(o,e):r[i]=o},{allOwnKeys:t}),r),Cs=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),ys=(r,n,e,t)=>{r.prototype=Object.create(n.prototype,t),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:n.prototype}),e&&Object.assign(r.prototype,e)},Es=(r,n,e,t)=>{let o,i,c;const l={};if(n=n||{},r==null)return n;do{for(o=Object.getOwnPropertyNames(r),i=o.length;i-- >0;)c=o[i],(!t||t(c,r,n))&&!l[c]&&(n[c]=r[c],l[c]=!0);r=e!==!1&&v0(r)}while(r&&(!e||e(r,n))&&r!==Object.prototype);return n},bs=(r,n,e)=>{r=String(r),(e===void 0||e>r.length)&&(e=r.length),e-=n.length;const t=r.indexOf(n,e);return t!==-1&&t===e},As=r=>{if(!r)return null;if(Ve(r))return r;let n=r.length;if(!Nr(n))return null;const e=new Array(n);for(;n-- >0;)e[n]=r[n];return e},Bs=(r=>n=>r&&n instanceof r)(typeof Uint8Array<"u"&&v0(Uint8Array)),ws=(r,n)=>{const t=(r&&r[Zt]).call(r);let o;for(;(o=t.next())&&!o.done;){const i=o.value;n.call(r,i[0],i[1])}},_s=(r,n)=>{let e;const t=[];for(;(e=r.exec(n))!==null;)t.push(e);return t},Ds=Be("HTMLFormElement"),Fs=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,o){return t.toUpperCase()+o}),vr=(({hasOwnProperty:r})=>(n,e)=>r.call(n,e))(Object.prototype),Ss=Be("RegExp"),jr=(r,n)=>{const e=Object.getOwnPropertyDescriptors(r),t={};at(e,(o,i)=>{let c;(c=n(o,i,r))!==!1&&(t[i]=c||o)}),Object.defineProperties(r,t)},ks=r=>{jr(r,(n,e)=>{if(me(r)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const t=r[e];if(me(t)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},Rs=(r,n)=>{const e={},t=o=>{o.forEach(i=>{e[i]=!0})};return Ve(r)?t(r):t(String(r).split(n)),e},Ps=()=>{},Is=(r,n)=>r!=null&&Number.isFinite(r=+r)?r:n;function Ts(r){return!!(r&&me(r.append)&&r[Hr]==="FormData"&&r[Zt])}const $s=r=>{const n=new Array(10),e=(t,o)=>{if(st(t)){if(n.indexOf(t)>=0)return;if(ot(t))return t;if(!("toJSON"in t)){n[o]=t;const i=Ve(t)?[]:{};return at(t,(c,l)=>{const p=e(c,o+1);!We(p)&&(i[l]=p)}),n[o]=void 0,i}}return t};return e(r,0)},Ls=Be("AsyncFunction"),Os=r=>r&&(st(r)||me(r))&&me(r.then)&&me(r.catch),Wr=((r,n)=>r?setImmediate:n?((e,t)=>(Te.addEventListener("message",({source:o,data:i})=>{o===Te&&i===e&&t.length&&t.shift()()},!1),o=>{t.push(o),Te.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",me(Te.postMessage)),Us=typeof queueMicrotask<"u"?queueMicrotask.bind(Te):typeof process<"u"&&process.nextTick||Wr,Hs=r=>r!=null&&me(r[Zt]),L={isArray:Ve,isArrayBuffer:zr,isBuffer:ot,isFormData:us,isArrayBufferView:rs,isString:ns,isNumber:Nr,isBoolean:os,isObject:st,isPlainObject:Vt,isEmptyObject:ss,isReadableStream:ds,isRequest:ps,isResponse:hs,isHeaders:vs,isUndefined:We,isDate:as,isFile:is,isBlob:ls,isRegExp:Ss,isFunction:me,isStream:xs,isURLSearchParams:fs,isTypedArray:Bs,isFileList:cs,forEach:at,merge:c0,extend:gs,trim:ms,stripBOM:Cs,inherits:ys,toFlatObject:Es,kindOf:Jt,kindOfTest:Be,endsWith:bs,toArray:As,forEachEntry:ws,matchAll:_s,isHTMLForm:Ds,hasOwnProperty:vr,hasOwnProp:vr,reduceDescriptors:jr,freezeMethods:ks,toObjectSet:Rs,toCamelCase:Fs,noop:Ps,toFiniteNumber:Is,findKey:Mr,global:Te,isContextDefined:qr,isSpecCompliantForm:Ts,toJSONObject:$s,isAsyncFn:Ls,isThenable:Os,setImmediate:Wr,asap:Us,isIterable:Hs};function J(r,n,e,t,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",n&&(this.code=n),e&&(this.config=e),t&&(this.request=t),o&&(this.response=o,this.status=o.status?o.status:null)}L.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const Kr=J.prototype,Vr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Vr[r]={value:r}});Object.defineProperties(J,Vr);Object.defineProperty(Kr,"isAxiosError",{value:!0});J.from=(r,n,e,t,o,i)=>{const c=Object.create(Kr);L.toFlatObject(r,c,function(a){return a!==Error.prototype},s=>s!=="isAxiosError");const l=r&&r.message?r.message:"Error",p=n==null&&r?r.code:n;return J.call(c,l,p,e,t,o),r&&c.cause==null&&Object.defineProperty(c,"cause",{value:r,configurable:!0}),c.name=r&&r.name||"Error",i&&Object.assign(c,i),c};const zs=null;function x0(r){return L.isPlainObject(r)||L.isArray(r)}function Xr(r){return L.endsWith(r,"[]")?r.slice(0,-2):r}function mr(r,n,e){return r?r.concat(n).map(function(o,i){return o=Xr(o),!e&&i?"["+o+"]":o}).join(e?".":""):n}function Ns(r){return L.isArray(r)&&!r.some(x0)}const Ms=L.toFlatObject(L,{},null,function(n){return/^is[A-Z]/.test(n)});function t0(r,n,e){if(!L.isObject(r))throw new TypeError("target must be an object");n=n||new FormData,e=L.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,h){return!L.isUndefined(h[C])});const t=e.metaTokens,o=e.visitor||a,i=e.dots,c=e.indexes,p=(e.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(n);if(!L.isFunction(o))throw new TypeError("visitor must be a function");function s(d){if(d===null)return"";if(L.isDate(d))return d.toISOString();if(L.isBoolean(d))return d.toString();if(!p&&L.isBlob(d))throw new J("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(d)||L.isTypedArray(d)?p&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function a(d,C,h){let B=d;if(d&&!h&&typeof d=="object"){if(L.endsWith(C,"{}"))C=t?C:C.slice(0,-2),d=JSON.stringify(d);else if(L.isArray(d)&&Ns(d)||(L.isFileList(d)||L.endsWith(C,"[]"))&&(B=L.toArray(d)))return C=Xr(C),B.forEach(function(x,y){!(L.isUndefined(x)||x===null)&&n.append(c===!0?mr([C],y,i):c===null?C:C+"[]",s(x))}),!1}return x0(d)?!0:(n.append(mr(h,C,i),s(d)),!1)}const u=[],f=Object.assign(Ms,{defaultVisitor:a,convertValue:s,isVisitable:x0});function v(d,C){if(!L.isUndefined(d)){if(u.indexOf(d)!==-1)throw Error("Circular reference detected in "+C.join("."));u.push(d),L.forEach(d,function(B,m){(!(L.isUndefined(B)||B===null)&&o.call(n,B,L.isString(m)?m.trim():m,C,f))===!0&&v(B,C?C.concat(m):[m])}),u.pop()}}if(!L.isObject(r))throw new TypeError("data must be an object");return v(r),n}function gr(r){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(t){return n[t]})}function m0(r,n){this._pairs=[],r&&t0(r,this,n)}const Gr=m0.prototype;Gr.append=function(n,e){this._pairs.push([n,e])};Gr.toString=function(n){const e=n?function(t){return n.call(this,t,gr)}:gr;return this._pairs.map(function(o){return e(o[0])+"="+e(o[1])},"").join("&")};function qs(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Qr(r,n,e){if(!n)return r;const t=e&&e.encode||qs;L.isFunction(e)&&(e={serialize:e});const o=e&&e.serialize;let i;if(o?i=o(n,e):i=L.isURLSearchParams(n)?n.toString():new m0(n,e).toString(t),i){const c=r.indexOf("#");c!==-1&&(r=r.slice(0,c)),r+=(r.indexOf("?")===-1?"?":"&")+i}return r}class Cr{constructor(){this.handlers=[]}use(n,e,t){return this.handlers.push({fulfilled:n,rejected:e,synchronous:t?t.synchronous:!1,runWhen:t?t.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){L.forEach(this.handlers,function(t){t!==null&&n(t)})}}const Yr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},js=typeof URLSearchParams<"u"?URLSearchParams:m0,Ws=typeof FormData<"u"?FormData:null,Ks=typeof Blob<"u"?Blob:null,Vs={isBrowser:!0,classes:{URLSearchParams:js,FormData:Ws,Blob:Ks},protocols:["http","https","file","blob","url","data"]},g0=typeof window<"u"&&typeof document<"u",u0=typeof navigator=="object"&&navigator||void 0,Xs=g0&&(!u0||["ReactNative","NativeScript","NS"].indexOf(u0.product)<0),Gs=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Qs=g0&&window.location.href||"http://localhost",Ys=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:g0,hasStandardBrowserEnv:Xs,hasStandardBrowserWebWorkerEnv:Gs,navigator:u0,origin:Qs},Symbol.toStringTag,{value:"Module"})),pe={...Ys,...Vs};function Zs(r,n){return t0(r,new pe.classes.URLSearchParams,{visitor:function(e,t,o,i){return pe.isNode&&L.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...n})}function Js(r){return L.matchAll(/\w+|\[(\w*)]/g,r).map(n=>n[0]==="[]"?"":n[1]||n[0])}function ea(r){const n={},e=Object.keys(r);let t;const o=e.length;let i;for(t=0;t<o;t++)i=e[t],n[i]=r[i];return n}function Zr(r){function n(e,t,o,i){let c=e[i++];if(c==="__proto__")return!0;const l=Number.isFinite(+c),p=i>=e.length;return c=!c&&L.isArray(o)?o.length:c,p?(L.hasOwnProp(o,c)?o[c]=[o[c],t]:o[c]=t,!l):((!o[c]||!L.isObject(o[c]))&&(o[c]=[]),n(e,t,o[c],i)&&L.isArray(o[c])&&(o[c]=ea(o[c])),!l)}if(L.isFormData(r)&&L.isFunction(r.entries)){const e={};return L.forEachEntry(r,(t,o)=>{n(Js(t),o,e,0)}),e}return null}function ta(r,n,e){if(L.isString(r))try{return(n||JSON.parse)(r),L.trim(r)}catch(t){if(t.name!=="SyntaxError")throw t}return(e||JSON.stringify)(r)}const it={transitional:Yr,adapter:["xhr","http","fetch"],transformRequest:[function(n,e){const t=e.getContentType()||"",o=t.indexOf("application/json")>-1,i=L.isObject(n);if(i&&L.isHTMLForm(n)&&(n=new FormData(n)),L.isFormData(n))return o?JSON.stringify(Zr(n)):n;if(L.isArrayBuffer(n)||L.isBuffer(n)||L.isStream(n)||L.isFile(n)||L.isBlob(n)||L.isReadableStream(n))return n;if(L.isArrayBufferView(n))return n.buffer;if(L.isURLSearchParams(n))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let l;if(i){if(t.indexOf("application/x-www-form-urlencoded")>-1)return Zs(n,this.formSerializer).toString();if((l=L.isFileList(n))||t.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return t0(l?{"files[]":n}:n,p&&new p,this.formSerializer)}}return i||o?(e.setContentType("application/json",!1),ta(n)):n}],transformResponse:[function(n){const e=this.transitional||it.transitional,t=e&&e.forcedJSONParsing,o=this.responseType==="json";if(L.isResponse(n)||L.isReadableStream(n))return n;if(n&&L.isString(n)&&(t&&!this.responseType||o)){const c=!(e&&e.silentJSONParsing)&&o;try{return JSON.parse(n,this.parseReviver)}catch(l){if(c)throw l.name==="SyntaxError"?J.from(l,J.ERR_BAD_RESPONSE,this,null,this.response):l}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pe.classes.FormData,Blob:pe.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],r=>{it.headers[r]={}});const ra=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),na=r=>{const n={};let e,t,o;return r&&r.split(`
`).forEach(function(c){o=c.indexOf(":"),e=c.substring(0,o).trim().toLowerCase(),t=c.substring(o+1).trim(),!(!e||n[e]&&ra[e])&&(e==="set-cookie"?n[e]?n[e].push(t):n[e]=[t]:n[e]=n[e]?n[e]+", "+t:t)}),n},yr=Symbol("internals");function et(r){return r&&String(r).trim().toLowerCase()}function Xt(r){return r===!1||r==null?r:L.isArray(r)?r.map(Xt):String(r)}function oa(r){const n=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let t;for(;t=e.exec(r);)n[t[1]]=t[2];return n}const sa=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function s0(r,n,e,t,o){if(L.isFunction(t))return t.call(this,n,e);if(o&&(n=e),!!L.isString(n)){if(L.isString(t))return n.indexOf(t)!==-1;if(L.isRegExp(t))return t.test(n)}}function aa(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,e,t)=>e.toUpperCase()+t)}function ia(r,n){const e=L.toCamelCase(" "+n);["get","set","has"].forEach(t=>{Object.defineProperty(r,t+e,{value:function(o,i,c){return this[t].call(this,n,o,i,c)},configurable:!0})})}let ge=class{constructor(n){n&&this.set(n)}set(n,e,t){const o=this;function i(l,p,s){const a=et(p);if(!a)throw new Error("header name must be a non-empty string");const u=L.findKey(o,a);(!u||o[u]===void 0||s===!0||s===void 0&&o[u]!==!1)&&(o[u||p]=Xt(l))}const c=(l,p)=>L.forEach(l,(s,a)=>i(s,a,p));if(L.isPlainObject(n)||n instanceof this.constructor)c(n,e);else if(L.isString(n)&&(n=n.trim())&&!sa(n))c(na(n),e);else if(L.isObject(n)&&L.isIterable(n)){let l={},p,s;for(const a of n){if(!L.isArray(a))throw TypeError("Object iterator must return a key-value pair");l[s=a[0]]=(p=l[s])?L.isArray(p)?[...p,a[1]]:[p,a[1]]:a[1]}c(l,e)}else n!=null&&i(e,n,t);return this}get(n,e){if(n=et(n),n){const t=L.findKey(this,n);if(t){const o=this[t];if(!e)return o;if(e===!0)return oa(o);if(L.isFunction(e))return e.call(this,o,t);if(L.isRegExp(e))return e.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,e){if(n=et(n),n){const t=L.findKey(this,n);return!!(t&&this[t]!==void 0&&(!e||s0(this,this[t],t,e)))}return!1}delete(n,e){const t=this;let o=!1;function i(c){if(c=et(c),c){const l=L.findKey(t,c);l&&(!e||s0(t,t[l],l,e))&&(delete t[l],o=!0)}}return L.isArray(n)?n.forEach(i):i(n),o}clear(n){const e=Object.keys(this);let t=e.length,o=!1;for(;t--;){const i=e[t];(!n||s0(this,this[i],i,n,!0))&&(delete this[i],o=!0)}return o}normalize(n){const e=this,t={};return L.forEach(this,(o,i)=>{const c=L.findKey(t,i);if(c){e[c]=Xt(o),delete e[i];return}const l=n?aa(i):String(i).trim();l!==i&&delete e[i],e[l]=Xt(o),t[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const e=Object.create(null);return L.forEach(this,(t,o)=>{t!=null&&t!==!1&&(e[o]=n&&L.isArray(t)?t.join(", "):t)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,e])=>n+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...e){const t=new this(n);return e.forEach(o=>t.set(o)),t}static accessor(n){const t=(this[yr]=this[yr]={accessors:{}}).accessors,o=this.prototype;function i(c){const l=et(c);t[l]||(ia(o,c),t[l]=!0)}return L.isArray(n)?n.forEach(i):i(n),this}};ge.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(ge.prototype,({value:r},n)=>{let e=n[0].toUpperCase()+n.slice(1);return{get:()=>r,set(t){this[e]=t}}});L.freezeMethods(ge);function a0(r,n){const e=this||it,t=n||e,o=ge.from(t.headers);let i=t.data;return L.forEach(r,function(l){i=l.call(e,i,o.normalize(),n?n.status:void 0)}),o.normalize(),i}function Jr(r){return!!(r&&r.__CANCEL__)}function Xe(r,n,e){J.call(this,r??"canceled",J.ERR_CANCELED,n,e),this.name="CanceledError"}L.inherits(Xe,J,{__CANCEL__:!0});function en(r,n,e){const t=e.config.validateStatus;!e.status||!t||t(e.status)?r(e):n(new J("Request failed with status code "+e.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function la(r){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return n&&n[1]||""}function ca(r,n){r=r||10;const e=new Array(r),t=new Array(r);let o=0,i=0,c;return n=n!==void 0?n:1e3,function(p){const s=Date.now(),a=t[i];c||(c=s),e[o]=p,t[o]=s;let u=i,f=0;for(;u!==o;)f+=e[u++],u=u%r;if(o=(o+1)%r,o===i&&(i=(i+1)%r),s-c<n)return;const v=a&&s-a;return v?Math.round(f*1e3/v):void 0}}function xa(r,n){let e=0,t=1e3/n,o,i;const c=(s,a=Date.now())=>{e=a,o=null,i&&(clearTimeout(i),i=null),r(...s)};return[(...s)=>{const a=Date.now(),u=a-e;u>=t?c(s,a):(o=s,i||(i=setTimeout(()=>{i=null,c(o)},t-u)))},()=>o&&c(o)]}const Qt=(r,n,e=3)=>{let t=0;const o=ca(50,250);return xa(i=>{const c=i.loaded,l=i.lengthComputable?i.total:void 0,p=c-t,s=o(p),a=c<=l;t=c;const u={loaded:c,total:l,progress:l?c/l:void 0,bytes:p,rate:s||void 0,estimated:s&&l&&a?(l-c)/s:void 0,event:i,lengthComputable:l!=null,[n?"download":"upload"]:!0};r(u)},e)},Er=(r,n)=>{const e=r!=null;return[t=>n[0]({lengthComputable:e,total:r,loaded:t}),n[1]]},br=r=>(...n)=>L.asap(()=>r(...n)),ua=pe.hasStandardBrowserEnv?((r,n)=>e=>(e=new URL(e,pe.origin),r.protocol===e.protocol&&r.host===e.host&&(n||r.port===e.port)))(new URL(pe.origin),pe.navigator&&/(msie|trident)/i.test(pe.navigator.userAgent)):()=>!0,fa=pe.hasStandardBrowserEnv?{write(r,n,e,t,o,i,c){if(typeof document>"u")return;const l=[`${r}=${encodeURIComponent(n)}`];L.isNumber(e)&&l.push(`expires=${new Date(e).toUTCString()}`),L.isString(t)&&l.push(`path=${t}`),L.isString(o)&&l.push(`domain=${o}`),i===!0&&l.push("secure"),L.isString(c)&&l.push(`SameSite=${c}`),document.cookie=l.join("; ")},read(r){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function da(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function pa(r,n){return n?r.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):r}function tn(r,n,e){let t=!da(n);return r&&(t||e==!1)?pa(r,n):n}const Ar=r=>r instanceof ge?{...r}:r;function Le(r,n){n=n||{};const e={};function t(s,a,u,f){return L.isPlainObject(s)&&L.isPlainObject(a)?L.merge.call({caseless:f},s,a):L.isPlainObject(a)?L.merge({},a):L.isArray(a)?a.slice():a}function o(s,a,u,f){if(L.isUndefined(a)){if(!L.isUndefined(s))return t(void 0,s,u,f)}else return t(s,a,u,f)}function i(s,a){if(!L.isUndefined(a))return t(void 0,a)}function c(s,a){if(L.isUndefined(a)){if(!L.isUndefined(s))return t(void 0,s)}else return t(void 0,a)}function l(s,a,u){if(u in n)return t(s,a);if(u in r)return t(void 0,s)}const p={url:i,method:i,data:i,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:l,headers:(s,a,u)=>o(Ar(s),Ar(a),u,!0)};return L.forEach(Object.keys({...r,...n}),function(a){const u=p[a]||o,f=u(r[a],n[a],a);L.isUndefined(f)&&u!==l||(e[a]=f)}),e}const rn=r=>{const n=Le({},r);let{data:e,withXSRFToken:t,xsrfHeaderName:o,xsrfCookieName:i,headers:c,auth:l}=n;if(n.headers=c=ge.from(c),n.url=Qr(tn(n.baseURL,n.url,n.allowAbsoluteUrls),r.params,r.paramsSerializer),l&&c.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),L.isFormData(e)){if(pe.hasStandardBrowserEnv||pe.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(L.isFunction(e.getHeaders)){const p=e.getHeaders(),s=["content-type","content-length"];Object.entries(p).forEach(([a,u])=>{s.includes(a.toLowerCase())&&c.set(a,u)})}}if(pe.hasStandardBrowserEnv&&(t&&L.isFunction(t)&&(t=t(n)),t||t!==!1&&ua(n.url))){const p=o&&i&&fa.read(i);p&&c.set(o,p)}return n},ha=typeof XMLHttpRequest<"u",va=ha&&function(r){return new Promise(function(e,t){const o=rn(r);let i=o.data;const c=ge.from(o.headers).normalize();let{responseType:l,onUploadProgress:p,onDownloadProgress:s}=o,a,u,f,v,d;function C(){v&&v(),d&&d(),o.cancelToken&&o.cancelToken.unsubscribe(a),o.signal&&o.signal.removeEventListener("abort",a)}let h=new XMLHttpRequest;h.open(o.method.toUpperCase(),o.url,!0),h.timeout=o.timeout;function B(){if(!h)return;const x=ge.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:x,config:r,request:h};en(function(F){e(F),C()},function(F){t(F),C()},A),h=null}"onloadend"in h?h.onloadend=B:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(B)},h.onabort=function(){h&&(t(new J("Request aborted",J.ECONNABORTED,r,h)),h=null)},h.onerror=function(y){const A=y&&y.message?y.message:"Network Error",_=new J(A,J.ERR_NETWORK,r,h);_.event=y||null,t(_),h=null},h.ontimeout=function(){let y=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const A=o.transitional||Yr;o.timeoutErrorMessage&&(y=o.timeoutErrorMessage),t(new J(y,A.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,r,h)),h=null},i===void 0&&c.setContentType(null),"setRequestHeader"in h&&L.forEach(c.toJSON(),function(y,A){h.setRequestHeader(A,y)}),L.isUndefined(o.withCredentials)||(h.withCredentials=!!o.withCredentials),l&&l!=="json"&&(h.responseType=o.responseType),s&&([f,d]=Qt(s,!0),h.addEventListener("progress",f)),p&&h.upload&&([u,v]=Qt(p),h.upload.addEventListener("progress",u),h.upload.addEventListener("loadend",v)),(o.cancelToken||o.signal)&&(a=x=>{h&&(t(!x||x.type?new Xe(null,r,h):x),h.abort(),h=null)},o.cancelToken&&o.cancelToken.subscribe(a),o.signal&&(o.signal.aborted?a():o.signal.addEventListener("abort",a)));const m=la(o.url);if(m&&pe.protocols.indexOf(m)===-1){t(new J("Unsupported protocol "+m+":",J.ERR_BAD_REQUEST,r));return}h.send(i||null)})},ma=(r,n)=>{const{length:e}=r=r?r.filter(Boolean):[];if(n||e){let t=new AbortController,o;const i=function(s){if(!o){o=!0,l();const a=s instanceof Error?s:this.reason;t.abort(a instanceof J?a:new Xe(a instanceof Error?a.message:a))}};let c=n&&setTimeout(()=>{c=null,i(new J(`timeout ${n} of ms exceeded`,J.ETIMEDOUT))},n);const l=()=>{r&&(c&&clearTimeout(c),c=null,r.forEach(s=>{s.unsubscribe?s.unsubscribe(i):s.removeEventListener("abort",i)}),r=null)};r.forEach(s=>s.addEventListener("abort",i));const{signal:p}=t;return p.unsubscribe=()=>L.asap(l),p}},ga=function*(r,n){let e=r.byteLength;if(e<n){yield r;return}let t=0,o;for(;t<e;)o=t+n,yield r.slice(t,o),t=o},Ca=async function*(r,n){for await(const e of ya(r))yield*ga(e,n)},ya=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const n=r.getReader();try{for(;;){const{done:e,value:t}=await n.read();if(e)break;yield t}}finally{await n.cancel()}},Br=(r,n,e,t)=>{const o=Ca(r,n);let i=0,c,l=p=>{c||(c=!0,t&&t(p))};return new ReadableStream({async pull(p){try{const{done:s,value:a}=await o.next();if(s){l(),p.close();return}let u=a.byteLength;if(e){let f=i+=u;e(f)}p.enqueue(new Uint8Array(a))}catch(s){throw l(s),s}},cancel(p){return l(p),o.return()}},{highWaterMark:2})},wr=64*1024,{isFunction:xt}=L,Ea=(({Request:r,Response:n})=>({Request:r,Response:n}))(L.global),{ReadableStream:_r,TextEncoder:Dr}=L.global,Fr=(r,...n)=>{try{return!!r(...n)}catch{return!1}},ba=r=>{r=L.merge.call({skipUndefined:!0},Ea,r);const{fetch:n,Request:e,Response:t}=r,o=n?xt(n):typeof fetch=="function",i=xt(e),c=xt(t);if(!o)return!1;const l=o&&xt(_r),p=o&&(typeof Dr=="function"?(d=>C=>d.encode(C))(new Dr):async d=>new Uint8Array(await new e(d).arrayBuffer())),s=i&&l&&Fr(()=>{let d=!1;const C=new e(pe.origin,{body:new _r,method:"POST",get duplex(){return d=!0,"half"}}).headers.has("Content-Type");return d&&!C}),a=c&&l&&Fr(()=>L.isReadableStream(new t("").body)),u={stream:a&&(d=>d.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(d=>{!u[d]&&(u[d]=(C,h)=>{let B=C&&C[d];if(B)return B.call(C);throw new J(`Response type '${d}' is not supported`,J.ERR_NOT_SUPPORT,h)})});const f=async d=>{if(d==null)return 0;if(L.isBlob(d))return d.size;if(L.isSpecCompliantForm(d))return(await new e(pe.origin,{method:"POST",body:d}).arrayBuffer()).byteLength;if(L.isArrayBufferView(d)||L.isArrayBuffer(d))return d.byteLength;if(L.isURLSearchParams(d)&&(d=d+""),L.isString(d))return(await p(d)).byteLength},v=async(d,C)=>{const h=L.toFiniteNumber(d.getContentLength());return h??f(C)};return async d=>{let{url:C,method:h,data:B,signal:m,cancelToken:x,timeout:y,onDownloadProgress:A,onUploadProgress:_,responseType:F,headers:T,withCredentials:S="same-origin",fetchOptions:g}=rn(d),b=n||fetch;F=F?(F+"").toLowerCase():"text";let U=ma([m,x&&x.toAbortSignal()],y),E=null;const k=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let P;try{if(_&&s&&h!=="get"&&h!=="head"&&(P=await v(T,B))!==0){let R=new e(C,{method:"POST",body:B,duplex:"half"}),I;if(L.isFormData(B)&&(I=R.headers.get("content-type"))&&T.setContentType(I),R.body){const[N,H]=Er(P,Qt(br(_)));B=Br(R.body,wr,N,H)}}L.isString(S)||(S=S?"include":"omit");const D=i&&"credentials"in e.prototype,w={...g,signal:U,method:h.toUpperCase(),headers:T.normalize().toJSON(),body:B,duplex:"half",credentials:D?S:void 0};E=i&&new e(C,w);let $=await(i?b(E,g):b(C,w));const z=a&&(F==="stream"||F==="response");if(a&&(A||z&&k)){const R={};["status","statusText","headers"].forEach(X=>{R[X]=$[X]});const I=L.toFiniteNumber($.headers.get("content-length")),[N,H]=A&&Er(I,Qt(br(A),!0))||[];$=new t(Br($.body,wr,N,()=>{H&&H(),k&&k()}),R)}F=F||"text";let M=await u[L.findKey(u,F)||"text"]($,d);return!z&&k&&k(),await new Promise((R,I)=>{en(R,I,{data:M,headers:ge.from($.headers),status:$.status,statusText:$.statusText,config:d,request:E})})}catch(D){throw k&&k(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,d,E),{cause:D.cause||D}):J.from(D,D&&D.code,d,E)}}},Aa=new Map,nn=r=>{let n=r&&r.env||{};const{fetch:e,Request:t,Response:o}=n,i=[t,o,e];let c=i.length,l=c,p,s,a=Aa;for(;l--;)p=i[l],s=a.get(p),s===void 0&&a.set(p,s=l?new Map:ba(n)),a=s;return s};nn();const C0={http:zs,xhr:va,fetch:{get:nn}};L.forEach(C0,(r,n)=>{if(r){try{Object.defineProperty(r,"name",{value:n})}catch{}Object.defineProperty(r,"adapterName",{value:n})}});const Sr=r=>`- ${r}`,Ba=r=>L.isFunction(r)||r===null||r===!1;function wa(r,n){r=L.isArray(r)?r:[r];const{length:e}=r;let t,o;const i={};for(let c=0;c<e;c++){t=r[c];let l;if(o=t,!Ba(t)&&(o=C0[(l=String(t)).toLowerCase()],o===void 0))throw new J(`Unknown adapter '${l}'`);if(o&&(L.isFunction(o)||(o=o.get(n))))break;i[l||"#"+c]=o}if(!o){const c=Object.entries(i).map(([p,s])=>`adapter ${p} `+(s===!1?"is not supported by the environment":"is not available in the build"));let l=e?c.length>1?`since :
`+c.map(Sr).join(`
`):" "+Sr(c[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return o}const on={getAdapter:wa,adapters:C0};function i0(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Xe(null,r)}function kr(r){return i0(r),r.headers=ge.from(r.headers),r.data=a0.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),on.getAdapter(r.adapter||it.adapter,r)(r).then(function(t){return i0(r),t.data=a0.call(r,r.transformResponse,t),t.headers=ge.from(t.headers),t},function(t){return Jr(t)||(i0(r),t&&t.response&&(t.response.data=a0.call(r,r.transformResponse,t.response),t.response.headers=ge.from(t.response.headers))),Promise.reject(t)})}const sn="1.13.2",r0={};["object","boolean","number","function","string","symbol"].forEach((r,n)=>{r0[r]=function(t){return typeof t===r||"a"+(n<1?"n ":" ")+r}});const Rr={};r0.transitional=function(n,e,t){function o(i,c){return"[Axios v"+sn+"] Transitional option '"+i+"'"+c+(t?". "+t:"")}return(i,c,l)=>{if(n===!1)throw new J(o(c," has been removed"+(e?" in "+e:"")),J.ERR_DEPRECATED);return e&&!Rr[c]&&(Rr[c]=!0,console.warn(o(c," has been deprecated since v"+e+" and will be removed in the near future"))),n?n(i,c,l):!0}};r0.spelling=function(n){return(e,t)=>(console.warn(`${t} is likely a misspelling of ${n}`),!0)};function _a(r,n,e){if(typeof r!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const t=Object.keys(r);let o=t.length;for(;o-- >0;){const i=t[o],c=n[i];if(c){const l=r[i],p=l===void 0||c(l,i,r);if(p!==!0)throw new J("option "+i+" must be "+p,J.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new J("Unknown option "+i,J.ERR_BAD_OPTION)}}const Gt={assertOptions:_a,validators:r0},we=Gt.validators;let $e=class{constructor(n){this.defaults=n||{},this.interceptors={request:new Cr,response:new Cr}}async request(n,e){try{return await this._request(n,e)}catch(t){if(t instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{t.stack?i&&!String(t.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(t.stack+=`
`+i):t.stack=i}catch{}}throw t}}_request(n,e){typeof n=="string"?(e=e||{},e.url=n):e=n||{},e=Le(this.defaults,e);const{transitional:t,paramsSerializer:o,headers:i}=e;t!==void 0&&Gt.assertOptions(t,{silentJSONParsing:we.transitional(we.boolean),forcedJSONParsing:we.transitional(we.boolean),clarifyTimeoutError:we.transitional(we.boolean)},!1),o!=null&&(L.isFunction(o)?e.paramsSerializer={serialize:o}:Gt.assertOptions(o,{encode:we.function,serialize:we.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Gt.assertOptions(e,{baseUrl:we.spelling("baseURL"),withXsrfToken:we.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let c=i&&L.merge(i.common,i[e.method]);i&&L.forEach(["delete","get","head","post","put","patch","common"],d=>{delete i[d]}),e.headers=ge.concat(c,i);const l=[];let p=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(e)===!1||(p=p&&C.synchronous,l.unshift(C.fulfilled,C.rejected))});const s=[];this.interceptors.response.forEach(function(C){s.push(C.fulfilled,C.rejected)});let a,u=0,f;if(!p){const d=[kr.bind(this),void 0];for(d.unshift(...l),d.push(...s),f=d.length,a=Promise.resolve(e);u<f;)a=a.then(d[u++],d[u++]);return a}f=l.length;let v=e;for(;u<f;){const d=l[u++],C=l[u++];try{v=d(v)}catch(h){C.call(this,h);break}}try{a=kr.call(this,v)}catch(d){return Promise.reject(d)}for(u=0,f=s.length;u<f;)a=a.then(s[u++],s[u++]);return a}getUri(n){n=Le(this.defaults,n);const e=tn(n.baseURL,n.url,n.allowAbsoluteUrls);return Qr(e,n.params,n.paramsSerializer)}};L.forEach(["delete","get","head","options"],function(n){$e.prototype[n]=function(e,t){return this.request(Le(t||{},{method:n,url:e,data:(t||{}).data}))}});L.forEach(["post","put","patch"],function(n){function e(t){return function(i,c,l){return this.request(Le(l||{},{method:n,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:c}))}}$e.prototype[n]=e(),$e.prototype[n+"Form"]=e(!0)});let Da=class an{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(i){e=i});const t=this;this.promise.then(o=>{if(!t._listeners)return;let i=t._listeners.length;for(;i-- >0;)t._listeners[i](o);t._listeners=null}),this.promise.then=o=>{let i;const c=new Promise(l=>{t.subscribe(l),i=l}).then(o);return c.cancel=function(){t.unsubscribe(i)},c},n(function(i,c,l){t.reason||(t.reason=new Xe(i,c,l),e(t.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const e=this._listeners.indexOf(n);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const n=new AbortController,e=t=>{n.abort(t)};return this.subscribe(e),n.signal.unsubscribe=()=>this.unsubscribe(e),n.signal}static source(){let n;return{token:new an(function(o){n=o}),cancel:n}}};function Fa(r){return function(e){return r.apply(null,e)}}function Sa(r){return L.isObject(r)&&r.isAxiosError===!0}const f0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(f0).forEach(([r,n])=>{f0[n]=r});function ln(r){const n=new $e(r),e=Ur($e.prototype.request,n);return L.extend(e,$e.prototype,n,{allOwnKeys:!0}),L.extend(e,n,null,{allOwnKeys:!0}),e.create=function(o){return ln(Le(r,o))},e}const le=ln(it);le.Axios=$e;le.CanceledError=Xe;le.CancelToken=Da;le.isCancel=Jr;le.VERSION=sn;le.toFormData=t0;le.AxiosError=J;le.Cancel=le.CanceledError;le.all=function(n){return Promise.all(n)};le.spread=Fa;le.isAxiosError=Sa;le.mergeConfig=Le;le.AxiosHeaders=ge;le.formToJSON=r=>Zr(L.isHTMLForm(r)?new FormData(r):r);le.getAdapter=on.getAdapter;le.HttpStatusCode=f0;le.default=le;const{Axios:Xl,AxiosError:Gl,CanceledError:Ql,isCancel:Yl,CancelToken:Zl,VERSION:Jl,all:ec,Cancel:tc,isAxiosError:rc,spread:nc,toFormData:oc,AxiosHeaders:sc,HttpStatusCode:ac,formToJSON:ic,getAdapter:lc,mergeConfig:cc}=le;var je=(r=>(r.Latest="mr",r.View="mv",r.Picture="mp",r.Like="tf",r))(je||{});class ka{API_DOMAIN="";IMAGE_DOMAIN="";APP_TOKEN_SECRET="";APP_TOKEN_SECRET_2="";APP_DATA_SECRET="";APP_VERSION="";PROXY_URL="";API_PROXY_ENABLED=!1;buildApiUrl(n){const e=`https://${this.API_DOMAIN}${n}`;return this.API_PROXY_ENABLED&&this.PROXY_URL?`${this.PROXY_URL}${encodeURIComponent(e)}&type=api`:e}constructor(n={}){this.updateSettings(n)}updateSettings(n){this.API_DOMAIN=n.apiDomain||"www.cdnzack.cc",this.IMAGE_DOMAIN=n.imageDomain||"cdn-msp2.jmapiproxy2.cc",this.APP_TOKEN_SECRET=n.appTokenSecret||"18comicAPP",this.APP_TOKEN_SECRET_2=n.appTokenSecret2||"18comicAPPContent",this.APP_DATA_SECRET=n.appDataSecret||"185Hcomic3PAPP7R",this.APP_VERSION=n.appVersion||"2.0.6",this.PROXY_URL=n.proxyUrl||"",this.API_PROXY_ENABLED=n.apiProxyEnabled!==void 0?n.apiProxyEnabled:!1}md5(n){return Me.MD5(n).toString()}generateToken(n,e=!1){const t=e?this.APP_TOKEN_SECRET_2:this.APP_TOKEN_SECRET;return this.md5(n+t)}decryptData(n,e){try{const o=this.md5(n+this.APP_DATA_SECRET).substring(0,32),i=Me.enc.Utf8.parse(o);return Me.AES.decrypt(e,i,{mode:Me.mode.ECB,padding:Me.pad.Pkcs7}).toString(Me.enc.Utf8)}catch(t){throw new Error("è§£å¯å¤±è´¥: "+t.message)}}calculateBlockNum(n,e,t){if(e<n)return 0;if(e<268850)return 10;{const o=e<421926?10:8,i=`${e}${t}`,c=this.md5(i);let l=c.charCodeAt(c.length-1);return l%=o,l=l*2+2,l}}async stitchImage(n,e){return new Promise((t,o)=>{const i=new Image;i.crossOrigin="anonymous",i.onload=function(){try{const c=document.createElement("canvas"),l=c.getContext("2d");if(!l){o(new Error("æ æ³è·å canvas ä¸ä¸æ"));return}const p=i.width,s=i.height;c.width=p,c.height=s;const a=s%e;for(let u=0;u<e;u++){let f=Math.floor(s/e);const v=s-f*(u+1)-a;let d=f*u;u===0?f+=a:d+=a,l.drawImage(i,0,v,p,f,0,d,p,f)}c.toBlob(u=>{if(u){const f=URL.createObjectURL(u);t(f)}else o(new Error("å¾çæ¼æ¥å¤±è´¥ï¼æ æ³åå»º Blob"))},"image/webp")}catch(c){o(new Error("å¾çæ¼æ¥å¤±è´¥: "+c.message))}},i.onerror=function(){o(new Error("å¾çå è½½å¤±è´¥"))},i.src=n})}async apiRequest(n,e="GET",t=null,o=null,i=!1){const c=Math.floor(Date.now()/1e3),l=this.generateToken(c,i),p=`${c},${this.APP_VERSION}`,s=this.buildApiUrl(n),a={method:e,url:s,headers:{token:l,tokenparam:p},withCredentials:!0};if(t&&(a.params=t),o&&e==="POST"){const u=new URLSearchParams;for(const f in o)u.append(f,o[f]);a.data=u.toString(),a.headers["content-type"]="application/x-www-form-urlencoded"}try{const u=await le(a);if(u.data&&u.data.code!==void 0){if(u.data.code!==200)throw new Error(`API è¿åéè¯¯: code=${u.data.code}, message=${u.data.msg||"æªç¥éè¯¯"}`);if(typeof u.data.data=="string"&&u.data.data)try{const f=this.decryptData(c,u.data.data);u.data.data=JSON.parse(f)}catch{try{u.data.data=JSON.parse(u.data.data)}catch{}}}return u.data}catch(u){if(u.response){const f=u.response.status;throw f===401?new Error("æªææï¼è¯·åç»å½æ Cookie å·²è¿æ"):new Error(`HTTP ${f}: ${u.response.statusText||""}`)}else throw u.request?new Error("ç½ç»è¯·æ±å¤±è´¥ï¼è¯·æ£æ¥ç½ç»è¿æ¥"):u}}async search(n,e=1,t="mr"){const o={main_tag:0,search_query:n,page:e,o:t},i=await this.apiRequest("/search","GET",o);return console.log({search:i}),i}async getComic(n){const e={id:n},t=await this.apiRequest("/album","GET",e);return console.log({getComic:t}),t.data||t}async getChapterImages(n){const e=Math.floor(Date.now()/1e3),t=this.generateToken(e,!0),o=`${e},${this.APP_VERSION}`,i={id:n,v:e,mode:"vertical",page:0,app_img_shunt:1,express:"off"};let c=220980;try{const v=(await le({method:"GET",url:this.buildApiUrl("/chapter_view_template"),params:i,headers:{token:t,tokenparam:o},withCredentials:!0})).data.match(/var scramble_id = (\d+);/);v&&(c=parseInt(v[1]))}catch(u){console.warn("è·å scramble_id å¤±è´¥ï¼ä½¿ç¨é»è®¤å¼:",u)}const l={id:n},p=await this.apiRequest("/chapter","GET",l);let s;if(p.data&&typeof p.data=="object"&&!Array.isArray(p.data)?s=p.data:p.images?s=p:s=p.data||p,!s||!s.images||!Array.isArray(s.images))throw s.images&&Array.isArray(s.images)&&s.images.length===0?new Error("ç« èå¾çåè¡¨ä¸ºç©ºãå¯è½çåå ï¼1) éè¦ç»å½æè½æ¥çæ­¤ç« èï¼2) ç« è ID ä¸æ­£ç¡®ï¼3) è¯¥ç« èç¡®å®æ²¡æå¾ç"):new Error(`ç« èæ°æ®ä¸­æ²¡æå¾çåè¡¨ãè¿åçæ°æ®: ${JSON.stringify(s).substring(0,200)}`);if(s.images.length===0)throw new Error("è¯¥ç« èæ²¡æå¾çãå¯è½çåå ï¼1) éè¦ç»å½æè½æ¥çæ­¤ç« èï¼2) ç« è ID ä¸æ­£ç¡®ï¼3) è¯¥ç« èç¡®å®æ²¡æå¾ç");const a=s.images.map((u,f)=>{const v=`https://${this.IMAGE_DOMAIN}/media/photos/${n}/${u}`,d=u.replace(/\.[^/.]+$/,""),C=this.calculateBlockNum(c,parseInt(n),d);return{url:v,filename:u,filenameWithoutExt:d,blockNum:C,index:f+1,processedUrl:null,isProcessing:!1}});return{chapterId:n,scrambleId:c,images:a,total:a.length}}async processImage(n){if(n.processedUrl&&n.processedUrl.startsWith("blob:"))return n.processedUrl;if(n.blockNum===0)return n.processedUrl=n.url,n.url;if(n.isProcessing)return n.url;n.isProcessing=!0;try{const e=await this.stitchImage(n.url,n.blockNum);return e&&e.startsWith("blob:")?(n.processedUrl=e,e):n.url}catch(e){return console.error("å¾çæ¼æ¥å¤±è´¥:",e),n.url}finally{n.isProcessing=!1}}}const Pr=1440*60*1e3,Ee=Tr("jmcomic",()=>{const r=G(null),n=De("jm-settings",{proxyUrl:"",imageProxyEnabled:!0,apiProxyEnabled:!1,apiDomain:"www.cdnblackmyth.club",imageDomain:"cdn-msp2.jmapiproxy2.cc",appTokenSecret:"18comicAPP",appTokenSecret2:"18comicAPPContent",appDataSecret:"185Hcomic3PAPP7R",appVersion:"1.7.5",downloadDir:""});r.value||(r.value=new ka(n.value));const e=q=>{Object.assign(n.value,q),r.value&&r.value.updateSettings(n.value)},t=De("jm-search-state",{searchQuery:"",searchSort:je.Latest,comicList:[],currentPage:1,totalItems:0,totalPages:1,hasMorePages:!0,autoLoadNextPage:!1}),o=G(80);de(o,q=>{const se=q>0?q:1;if(q<=0){o.value=1;return}const ae=t.value.totalItems;ae>0?t.value.totalPages=Math.ceil(ae/se):t.value.totalPages=1});const i=G(!1),c=G(!1),l=De("jm-reading-state",{currentComicId:null,currentComic:null,chapterList:[],currentChapterId:null,currentImageIndex:0,rightTab:"detail"}),p=G(null),s=G(null),a=G([]),u=G([]),f=G(!1),v=G(100),d=G(.5),C=G(!1),h=De("jm-auto-scroll-speed",3),B=De("jm-virtual-max-render-count",100),x=De("jm-hotkeys",{scrollDown:"ArrowDown",scrollUp:"ArrowUp",autoScroll:"Space",speedUp:"BracketRight",speedDown:"BracketLeft",nextChapter:"KeyN",prevChapter:"KeyP"}),y=G(!1),A=De("jm-cache-store",{details:{},chapters:{},searches:{}}),_={isEmptyData(q){if(q==null)return!0;if(Array.isArray(q))return q.length===0;if(typeof q=="object"){const se=q;if(Object.keys(se).length===0)return!0;if("images"in se&&Array.isArray(se.images))return se.images.length===0}return!1},get(q,se){const ae=A.value[se];if(!ae||!ae[q])return null;const ce=ae[q];return Date.now()-ce.timestamp>Pr?(delete ae[q],A.value[se]={...ae},null):ce.data},set(q,se,ae){if(this.isEmptyData(se))return;const ce=A.value[ae];A.value[ae]={...ce,[q]:{data:se,timestamp:Date.now()}}},clear(q){q?A.value[q]={}:A.value={details:{},chapters:{},searches:{}}},clearExpired(){const q=Date.now();["details","chapters","searches"].forEach(se=>{const ae=A.value[se],ce=Object.keys(ae);let xe=!1;ce.forEach(Ie=>{q-ae[Ie].timestamp>Pr&&(delete ae[Ie],xe=!0)}),xe&&(A.value[se]={...ae})})},getCount(q){const se=A.value[q];return se?Object.keys(se).length:0}};function F(q){t.value.searchQuery=q}function T(q){t.value.searchSort=q}function S(q){t.value.comicList=q}function g(q){t.value.comicList=[...t.value.comicList,...q]}function b(q){t.value.currentPage=q}function U(q){t.value.totalItems=q,t.value.totalPages=Math.ceil(q/o.value)}function E(q){const se=Math.max(1,q);o.value!==se&&(o.value=se)}function k(q){t.value.hasMorePages=q}function P(){t.value.autoLoadNextPage=!t.value.autoLoadNextPage}function D(q){i.value=q}function w(q){c.value=q}function $(q){p.value=q,l.value.currentComicId=q?.id||null,l.value.currentComic=q}function z(q){l.value.chapterList=q}function M(q){s.value=q,l.value.currentChapterId=q?.id||null}function R(q){a.value=q}function I(q){u.value=q}function N(q){l.value.currentImageIndex=q}function H(q){v.value=Math.max(20,Math.min(100,q))}function X(q){f.value=q}function ee(){y.value=!y.value}function ie(q){const se=Math.max(20,Math.min(500,Math.floor(q||0)));B.value=se}function Q(q){l.value.rightTab=q}async function Pe(){const q=l.value;if(q.currentComicId){if(q.currentComic)p.value=q.currentComic,f.value=!1;else{const se=_.get(q.currentComicId,"details");se&&(p.value=se,l.value.currentComic=se),f.value=!1}if(q.chapterList&&q.chapterList.length>0){if(q.currentChapterId){const se=q.chapterList.find(ae=>ae.id===q.currentChapterId);if(se){s.value=se;const ae=_.get(q.currentChapterId,"chapters");ae&&ae.images?(u.value=ae.images,a.value=ae.images.map((ce,xe)=>({url:ce.url,index:xe})),q.currentImageIndex>=0&&q.currentImageIndex<a.value.length):(u.value=[],a.value=[])}}}else f.value=!1}return q.rightTab||"detail"}return{api:re(()=>r.value),settings:n,updateSettings:e,searchQuery:re(()=>t.value.searchQuery),searchSort:re(()=>t.value.searchSort),comicList:re(()=>t.value.comicList),currentPage:re(()=>t.value.currentPage),pageSize:o,totalItems:re(()=>t.value.totalItems),totalPages:re(()=>t.value.totalPages),hasMorePages:re(()=>t.value.hasMorePages),loading:i,isManualLoading:c,autoLoadNextPage:re(()=>t.value.autoLoadNextPage),currentComic:p,chapterList:re(()=>l.value.chapterList),currentChapter:s,readingImages:a,currentChapterImages:u,currentImageIndex:re(()=>l.value.currentImageIndex),detailLoading:f,imageScale:v,autoScroll:C,autoScrollSpeed:h,virtualMaxRenderCount:B,hotkeys:x,showSettings:y,cacheUtils:_,setSearchQuery:F,setSearchSort:T,setComicList:S,appendComicList:g,setCurrentPage:b,setTotalItems:U,setHasMorePages:k,toggleAutoLoadNextPage:P,setLoading:D,setIsManualLoading:w,setPageSize:E,setCurrentComic:$,setChapterList:z,setCurrentChapter:M,setReadingImages:R,setCurrentChapterImages:I,setCurrentImageIndex:N,setImageScale:H,setDetailLoading:X,toggleSettings:ee,setVirtualMaxRenderCount:ie,setRightTab:Q,restoreReadingState:Pe,splitSize:d}});function y0(){const r=Ee(),n=Ke(),e=(l,p)=>{l===1&&r.setPageSize(Math.max(1,p))},t=(l,p)=>{let s=l.data||l,a=[];if(s&&s.content&&Array.isArray(s.content))if(a=s.content,e(p,a.length),s.total){const u=parseInt(s.total)||0;r.setTotalItems(u)}else r.setTotalItems(a.length*r.currentPage);else s&&s.list&&Array.isArray(s.list)?(a=s.list,e(p,a.length),r.setTotalItems(a.length)):Array.isArray(s)&&(a=s,e(p,a.length),r.setTotalItems(a.length));return a.map(u=>{const f=u.id||u.aid||u.album_id,v=u.image||u.thumb||u.cover||u.thumb_url||"";return{id:f,title:u.name||u.title||"æªç¥æ é¢",author:u.author||u.author_name||"æªç¥ä½è",date:u.update_at?new Date(u.update_at*1e3).toLocaleDateString():"",cover:o(v,f),description:u.description||u.intro||"",tags:u.tags||[]}})},o=(l,p)=>{const s=r.settings.imageDomain||"cdn-msp2.jmapiproxy2.cc";return l?l.startsWith("http://")||l.startsWith("https://")?l:l.startsWith("media/")?`https://${s}/${l}`:l.startsWith("albums/")?`https://${s}/media/${l}`:p?`https://${s}/media/albums/${p}_3x4.jpg`:`https://${s}/media/albums/${l}`:p?`https://${s}/media/albums/${p}_3x4.jpg`:""},i=(l,p,s)=>`${l||""}_${p}_${s}`;return{handleSearch:async(l=1,p=!1)=>{if(!r.searchQuery&&l===1)return;l===1&&!p&&(r.setComicList([]),r.setCurrentPage(1),r.setHasMorePages(!0));const s=i(r.searchQuery||"",l,r.searchSort),a=r.cacheUtils.get(s,"searches");if(a){e(l,a.length),p?r.appendComicList(a):r.setComicList(a),a.length===0||r.currentPage>=r.totalPages?r.setHasMorePages(!1):r.setHasMorePages(!0),r.setLoading(!1),r.setIsManualLoading(!1);return}r.setLoading(!0);try{if(!r.api)throw new Error("API æªåå§å");const u=await r.api.search(r.searchQuery||"",l,r.searchSort),f=t(u,l);r.cacheUtils.set(s,f,"searches"),p?r.appendComicList(f):r.setComicList(f),f.length===0||r.currentPage>=r.totalPages?r.setHasMorePages(!1):r.setHasMorePages(!0)}catch(u){console.error("[handleSearch] æç´¢å¤±è´¥:",u),n.error("æç´¢å¤±è´¥: "+u.message),p||r.setComicList([])}finally{r.setLoading(!1),r.setIsManualLoading(!1)}},processCoverUrl:o}}const Ra={class:"flex items-center gap-3 flex-shrink-0"},Pa={class:"flex-1 relative group"},Ia=Ae({__name:"SearchBar",emits:["show-settings","toggle-select-mode"],setup(r){const n=Ee(),{handleSearch:e}=y0(),t=[{label:"ææ°",value:je.Latest},{label:"æå¤ç¹éç",value:je.View},{label:"æå¤å¾ç",value:je.Picture},{label:"æå¤ç±å¿",value:je.Like}];Oe(()=>{const l=n.searchSort;t.some(s=>s.value===l)||n.setSearchSort(t[0].value)});const o=re({get:()=>n.searchQuery,set:l=>n.setSearchQuery(l)}),i=re({get:()=>n.searchSort,set:l=>n.setSearchSort(l)}),c=()=>{e(1,!1)};return(l,p)=>{const s=Y("n-icon"),a=Y("n-input"),u=Y("n-select"),f=Y("n-button");return V(),Z("div",Ra,[O("div",Pa,[j(a,{value:o.value,"onUpdate:value":p[0]||(p[0]=v=>o.value=v),placeholder:"è¾å¥è½¦å·(ID) æ å³é®è¯",clearable:"",onKeyup:An(c,["enter"]),"theme-overrides":{color:"#1f1f1f",colorHover:"#2a2a2a",colorFocus:"#1f1f1f",borderColor:"#3a3a3a",borderColorHover:"#4a4a4a",borderColorFocus:"#ec4899",textColor:"#e5e7eb",placeholderColor:"#6b7280",borderRadius:"6px",heightMedium:"40px"},size:"medium",class:"search-input"},{prefix:K(()=>[j(s,{size:18,class:"text-gray-500 group-hover:text-gray-400 transition-colors"},{default:K(()=>[...p[3]||(p[3]=[O("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[O("circle",{cx:"11",cy:"11",r:"8"}),O("path",{d:"m21 21-4.35-4.35"})],-1)])]),_:1})]),_:1},8,["value"])]),j(u,{value:i.value,"onUpdate:value":p[1]||(p[1]=v=>i.value=v),options:t,size:"medium",style:{width:"140px"},"theme-overrides":{color:"#1f1f1f",colorHover:"#2a2a2a",colorFocus:"#1f1f1f",borderColor:"#3a3a3a",borderColorHover:"#4a4a4a",borderColorFocus:"#ec4899",textColor:"#e5e7eb",placeholderColor:"#6b7280",borderRadius:"6px",heightMedium:"40px"}},null,8,["value"]),j(f,{onClick:c,size:"medium",color:"#ec4899",class:"search-btn transition-all duration-200 text-white!"},{default:K(()=>[...p[4]||(p[4]=[te(" æç´¢ ",-1)])]),_:1}),j(f,{onClick:p[2]||(p[2]=v=>l.$emit("toggle-select-mode")),size:"medium",tertiary:"",class:"transition-all duration-200"},{default:K(()=>[...p[5]||(p[5]=[te(" å¤é ",-1)])]),_:1})])}}}),Ta=nt(Ia,[["__scopeId","data-v-48570f10"]]),tt=r=>(r||"unnamed").replace(/[\\/:*?"<>|]/g,"_").trim()||"unnamed",$a=(r,n)=>{const e=r.filename?.match(/\.([^.]+)$/),t=e?e[1]:"png";return`${String(r.index??n).padStart(3,"0")}.${t}`},E0=Tr("jmDownload",()=>{const r=Ee(),n=l0({}),e=G([]),t=G([]),o=new Set,i=G(0),c=G(0),l=G(""),p=new Map,s=De("jm-fetch-concurrency",2),a=re({get:()=>Math.max(1,Number(s.value)||2),set:E=>{s.value=Math.max(1,E||1)}}),u=De("jm-download-concurrency",10),f=re({get:()=>Math.max(1,Number(u.value)||10),set:E=>{u.value=Math.max(1,E||1)}}),v=re(()=>e.value.length>0||t.value.length>0||i.value>0||c.value>0),d=re(()=>{const E={};return Object.values(n).sort((k,P)=>k.createdAt-P.createdAt).forEach(k=>{const P=k.comicTitle||"æªç¥ä½å";E[P]||(E[P]={key:P,comicTitle:P,chapters:[],finishedChapters:0,totalChapters:0});const D=E[P];D.chapters.push(k),D.totalChapters+=1,k.status==="completed"&&(D.finishedChapters+=1)}),Object.values(E)}),C=re(()=>d.value.reduce((E,k)=>E+k.totalChapters,0)),h=re(()=>d.value.reduce((E,k)=>E+k.finishedChapters,0)),B=re(()=>v.value),m=async()=>{const E=r.settings.downloadDir;if(E)return l.value=E,E;if(l.value)return l.value;const k=globalThis.naimo;if(k?.system?.getPath)try{const P=await k.system.getPath("downloads");if(P)return l.value=P,P}catch(P){console.warn("è·åç³»ç»ä¸è½½ç®å½å¤±è´¥:",P)}throw new Error("è¯·åå¨è®¾ç½®ä¸­éç½®ä¸è½½ç®å½")},x=async E=>{let k=r.cacheUtils.get(E,"chapters");if(!k||!k.images){if(!r.api)throw new Error("API æªåå§å");k=await r.api.getChapterImages(E),k&&k.images&&r.cacheUtils.set(E,k,"chapters")}if(!k||!Array.isArray(k.images))throw new Error("ç« èæ²¡æå¯ä¸è½½çå¾ç");return k.images},y=(E,k)=>{k.forEach((P,D)=>{t.value.push({id:`${E.chapterId}-${P.index??D}`,chapterId:E.chapterId,chapterTitle:E.chapterTitle,comicTitle:E.comicTitle,url:P.url,filename:tt($a(P,D)),index:P.index??D,total:k.length,blockNum:P.blockNum??0,originalFilename:P.filename||`${D}.png`})})},A=()=>{if(e.value.length)for(;i.value<a.value&&e.value.length>0;){const E=e.value.shift();if(!E)continue;const k=n[E];!k||o.has(E)||(k.status="fetching",i.value+=1,x(E).then(P=>{if(o.has(E)){o.delete(E);return}if(k.total=P.length,k.finished=0,P.length===0){k.status="error",k.error="ç« èæ²¡æå¾ç";return}y(k,P),k.status="queued",F()}).catch(P=>{k.status="error",k.error=P?.message||"è·åç« èå¾çå¤±è´¥"}).finally(()=>{i.value-=1,A()}))}},_=async E=>{const k=n[E.chapterId];if(!k||o.has(E.chapterId))return;(k.status==="queued"||k.status==="fetching")&&(k.status="downloading");const D=await(async()=>{if(E.blockNum>0&&r.api){const z={url:E.url,filename:E.originalFilename,filenameWithoutExt:E.originalFilename.replace(/\.[^/.]+$/,""),blockNum:E.blockNum,index:E.index,processedUrl:void 0,isProcessing:!1},M=await r.api.processImage(z),R=M||E.url,I=await fetch(R);if(!I.ok)throw new Error(`ä¸è½½å¤±è´¥ï¼${I.statusText||I.status}`);const N=await I.arrayBuffer();return M?.startsWith("blob:")&&URL.revokeObjectURL(M),N}const $=await fetch(E.url);if(!$.ok)throw new Error(`ä¸è½½å¤±è´¥ï¼${$.statusText||$.status}`);return $.arrayBuffer()})(),w=await m();await window.comicReaderAPI.saveDownloadImage({baseDir:w,comicTitle:k.comicTitle||"comic",chapterTitle:k.chapterTitle||"chapter",filename:E.filename,data:D}),k.finished+=1,k.finished>=k.total&&(k.status="completed")},F=()=>{if(t.value.length)for(;c.value<f.value&&t.value.length>0;){const E=t.value.shift();E&&(o.has(E.chapterId)||(c.value+=1,_(E).catch(k=>{const P=n[E.chapterId];P&&(P.status="error",P.error=k?.message||"å¾çä¸è½½å¤±è´¥")}).finally(()=>{c.value-=1,F()})))}},T=async(E,k)=>{if(!E.length)return!1;let P=!1;const D=r.currentComic?.title||"æªç¥ä½å";return E.forEach(w=>{if(n[w])return;let $=D,z=`ç« è ${w}`;if(k&&k[w])$=k[w].comicTitle,z=k[w].chapterTitle;else{const M=r.chapterList?.find(R=>R.id===w)||null;M&&(z=M.title||z)}n[w]={chapterId:w,chapterTitle:z,comicTitle:$,status:"pending",total:0,finished:0,createdAt:Date.now(),comicDirName:tt($),chapterDirName:tt(z)},e.value.push(w),P=!0}),P&&A(),P},S=E=>{o.add(E),e.value=e.value.filter(k=>k!==E),t.value=t.value.filter(k=>k.chapterId!==E),delete n[E]};return de(()=>a.value,()=>{A()}),de(()=>f.value,()=>{F()}),{downloadInProgress:B,fetchConcurrency:a,downloadConcurrency:f,comicGroups:d,totalChapters:C,finishedChapters:h,startDownload:T,deleteDownload:S,chapterDownloads:n,getChapterDownload:E=>n[E],getDownloadedChapterImages:async E=>{const k=n[E];if(!k||k.status!=="completed")return null;const P=await m();if(!window.comicReaderAPI?.getChapterImages)return null;try{return await window.comicReaderAPI.getChapterImages([P],k.comicDirName,k.chapterDirName)}catch(D){return console.error("è¯»åå·²ä¸è½½ç« èå¤±è´¥:",D),null}},ensureLocalDownloadRecord:async(E,k,P)=>{if(!E||!k||!P)return null;if(n[E])return n[E];const D=p.get(E);if(D)return D;const w=(async()=>{try{const $=await m();if(!window.comicReaderAPI?.getChapterImages)return null;const z=tt(P),M=tt(k),R=await window.comicReaderAPI.getChapterImages([$],z,M);if(R&&R.length>0)return n[E]={chapterId:E,chapterTitle:k,comicTitle:P,status:"completed",total:R.length,finished:R.length,createdAt:Date.now(),comicDirName:z,chapterDirName:M},n[E]}catch($){console.warn("æ£æµæ¬å°ç« èå¤±è´¥:",$)}finally{p.delete(E)}return null})();return p.set(E,w),w}}});function La(r){return{all:r=r||new Map,on:function(n,e){var t=r.get(n);t?t.push(e):r.set(n,[e])},off:function(n,e){var t=r.get(n);t&&(e?t.splice(t.indexOf(e)>>>0,1):r.set(n,[]))},emit:function(n,e){var t=r.get(n);t&&t.slice().map(function(o){o(e)}),(t=r.get("*"))&&t.slice().map(function(o){o(n,e)})}}}const he=La();function cn(){const r=Ee(),{handleSearch:n}=y0(),e=async(o,i=!1)=>{r.setIsManualLoading(i),r.setCurrentPage(o),await n(o,!i),i&&he.emit("manual-page-change",{page:o})};return{handlePageChange:e,handleLoad:async()=>{if(!(r.loading||!r.hasMorePages)&&r.autoLoadNextPage)try{const o=r.currentPage+1;await e(o,!1)}catch(o){console.error("[handleLoad] å è½½å¤±è´¥:",o),r.setCurrentPage(r.currentPage-1)}}}}const Oa={class:"aspect-[2/3] overflow-hidden relative"},Ua={class:"flex items-center justify-center w-full h-full bg-gray-800"},Ha={class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-2"},za={class:"text-xs text-gray-300"},Na={class:"p-2 flex flex-col gap-2"},Ma={class:"text-xs font-bold line-clamp-2 h-8 text-gray-100"},qa={class:"flex justify-between items-center mt-1"},ja={class:"text-xs text-gray-500"},Wa=Ae({__name:"ComicListItem",props:{comic:{},isActive:{type:Boolean},container:{},isSidebarCollapsed:{type:Boolean},selectMode:{type:Boolean},selected:{type:Boolean}},emits:["select","toggle-select"],setup(r,{emit:n}){const e=r,t=n,o=Ee(),i=G(null),c=(a,u=!1)=>{if(!a)return"";if(a.startsWith("data:")||a.startsWith("blob:")||a.includes("placeholder"))return a;if(o.settings.proxyUrl&&o.settings.imageProxyEnabled!==!1){const f=u?"&type=image":"";return`${o.settings.proxyUrl}${encodeURIComponent(a)}${f}`}return a},l=()=>{},p=async()=>{if(!e.isActive)return;await qe(),await new Promise(u=>setTimeout(u,100)),i.value?.scrollIntoView({behavior:"smooth",block:"center"})},s=()=>{e.selectMode?t("toggle-select",e.comic):t("select",e.comic)};return Oe(()=>{p()}),de(()=>e.isActive,()=>{p()}),de(()=>e.container,()=>{p()}),de(()=>e.isSidebarCollapsed,(a,u)=>{u!==void 0&&u&&!a&&p()}),(a,u)=>{const f=Y("n-spin"),v=Y("n-image"),d=Y("n-tag");return V(),Z("div",{ref_key:"rootRef",ref:i,class:rt(["bg-cardbg rounded-lg overflow-hidden hover:ring-2 ring-primary transition cursor-pointer group",{"ring-2 ring-primary":r.isActive&&!r.selectMode,"ring-2 ring-blue-500":r.selectMode&&r.selected,"ring-2 ring-gray-600":r.selectMode&&!r.selected}]),onClick:s},[O("div",Oa,[j(v,{src:c(r.comic.cover||"",!0),lazy:"","preview-disabled":"",class:"w-full h-full object-cover group-hover:scale-105 transition duration-300","intersection-observer-options":{root:r.container,rootMargin:"300px"},onError:l},{placeholder:K(()=>[O("div",Ua,[j(f,{size:"small"})])]),_:1},8,["src","intersection-observer-options"]),O("div",Ha,[O("span",za,ne(r.comic.author),1)])]),O("div",Na,[O("h3",Ma,ne(r.comic.title),1),O("div",qa,[j(d,{size:"tiny",type:"info"},{default:K(()=>[te(ne(r.comic.id),1)]),_:1}),O("span",ja,ne(r.comic.date||"ææ°"),1)])])],2)}}}),Ka=nt(Wa,[["__scopeId","data-v-82eb4435"]]),Va={key:0,class:"py-20 text-center text-gray-500"},Xa={key:1,class:"text-center py-20 text-gray-500"},Ga={key:0,class:"sticky top-0 z-40 bg-gray-800/95 backdrop-blur-sm border-b border-gray-700 p-3 mb-2"},Qa={class:"flex items-center justify-between"},Ya={class:"flex items-center gap-3"},Za={class:"text-sm text-gray-300"},Ja={class:"flex items-center gap-2"},ei={key:1,class:"absolute inset-0 z-50 flex items-center justify-center bg-gray-900/80 backdrop-blur-sm"},ti={class:"flex flex-col items-center justify-center gap-3"},ri={key:2,class:"py-4 text-center text-gray-500"},ni={key:3,class:"py-4 text-center text-gray-500"},oi=Ae({__name:"ComicList",props:{sidebarCollapsed:{type:Boolean}},emits:["select-comic"],setup(r,{expose:n,emit:e}){const t=r,o=e,i=Ee(),c=E0(),l=Ke(),{handleLoad:p}=cn(),s=G(null),a=G(null),{width:u}=Bn(s),f=G(!1),v=G([]),d=G(!1),C=re(()=>{const S=u.value-16;if(S<200)return 1;const g=Math.floor((S+8)/208);return Math.max(1,Math.min(g,10))});function h(){qe(()=>{if(a.value?.scrollbarInstRef?.scrollTo){a.value.scrollbarInstRef.scrollTo({top:0,left:0});return}})}const B=()=>{f.value=!f.value,f.value||(v.value=[])},m=_=>{f.value?x(_):o("select-comic",_)},x=_=>{if(!f.value)return;const F=_.id+"",T=v.value.indexOf(F);T===-1?v.value.push(F):v.value.splice(T,1)},y=()=>{v.value.length===i.comicList.length?v.value=[]:v.value=i.comicList.map(_=>_.id+"")},A=async()=>{if(v.value.length!==0&&!d.value){d.value=!0;try{const _=i.comicList.filter(b=>v.value.includes(b.id+""));let F=0;const T=[],S={};for(const b of _)try{const U=b.id;let E=i.cacheUtils.get(U,"details");if(!E){if(!i.api)throw new Error("API æªåå§å");E=await i.api.getComic(U),E&&i.cacheUtils.set(U,E,"details")}if(!E){l.warning(`æ æ³è·åã${b.title}ãçè¯¦æ`);continue}const k=E.title||b.title||"æªç¥ä½å";let P=[];E.series&&Array.isArray(E.series)&&E.series.length>0?P=E.series.map(D=>{let w=D.name;if(!w||w.trim()===""){const $=D.sort||"";w=$?`ç¬¬${$}è¯`:"æªç¥ç« è"}return{id:D.id||D.chapter_id,title:w,order:parseInt(D.sort||0)}}):E.photos&&Array.isArray(E.photos)&&E.photos.length>0?P=E.photos.map((D,w)=>({id:D.id||D.photo_id||D.chapter_id||w+1,title:D.title||D.name||`ç¬¬${w+1}è¯`,order:D.order||w+1})):E.chapters&&Array.isArray(E.chapters)&&E.chapters.length>0?P=E.chapters.map((D,w)=>({id:D.id||D.chapter_id||w+1,title:D.title||D.name||`ç¬¬${w+1}è¯`,order:D.order||w+1})):P=[{id:U,title:"ç¬¬ä¸ç« ",order:1}],P.sort((D,w)=>(D.order||0)-(w.order||0)),P.forEach(D=>{const w=D.id+"";T.includes(w)||(T.push(w),S[w]={comicTitle:k,chapterTitle:D.title||`ç« è ${w}`})}),F+=P.length}catch(U){console.error(`è·åã${b.title}ãç« èåè¡¨å¤±è´¥:`,U),l.warning(`è·åã${b.title}ãç« èåè¡¨å¤±è´¥`)}if(T.length===0){l.warning("æ²¡ææ¾å°å¯ä¸è½½çç« è");return}await c.startDownload(T,S)?(l.success(`å·²å¼å§ä¸è½½ ${_.length} é¨æ¼«ç»ç ${F} ä¸ªç« è`),f.value=!1,v.value=[]):l.warning("æ²¡æå¯ä¸è½½çç« è")}catch(_){console.error("æ¹éä¸è½½å¤±è´¥:",_),l.error("æ¹éä¸è½½å¤±è´¥: "+(_.message||"æªç¥éè¯¯"))}finally{d.value=!1}}};return n({scrollToTop:h,toggleSelectMode:B}),(_,F)=>{const T=Y("n-spin"),S=Y("n-empty"),g=Y("n-button"),b=Y("n-infinite-scroll");return V(),Z("div",{ref_key:"containerRef",ref:s,class:"h-full overflow-auto",style:{"min-height":"0"}},[W(i).loading&&W(i).comicList.length===0?(V(),Z("div",Va,[j(T,{size:"large"},{description:K(()=>[...F[0]||(F[0]=[O("p",null,"æ­£å¨å è½½æ°æ®...",-1)])]),_:1})])):W(i).comicList.length===0?(V(),Z("div",Xa,[j(S,{description:"ææ æ°æ®ï¼è¯·å°è¯æç´¢"})])):(V(),ve(b,{key:2,ref_key:"infiniteScrollRef",ref:a,distance:10,onLoad:W(p),class:"w-full h-full relative viewer comic-viewer"},{default:K(()=>[f.value?(V(),Z("div",Ga,[O("div",Qa,[O("div",Ya,[O("span",Za," å·²é "+ne(v.value.length)+" / "+ne(W(i).comicList.length),1),j(g,{size:"small",onClick:y},{default:K(()=>[te(ne(v.value.length===W(i).comicList.length?"åæ¶å¨é":"å¨é"),1)]),_:1})]),O("div",Ja,[j(g,{type:"primary",size:"small",disabled:v.value.length===0,loading:d.value,onClick:A},{default:K(()=>[...F[1]||(F[1]=[te(" ä¸é®å¨é¨ä¸è½½ ",-1)])]),_:1},8,["disabled","loading"]),j(g,{size:"small",onClick:B},{default:K(()=>[...F[2]||(F[2]=[te(" éåºå¤é ",-1)])]),_:1})])])])):ue("",!0),W(i).loading&&W(i).comicList.length>0&&W(i).isManualLoading?(V(),Z("div",ei,[O("div",ti,[j(T,{size:"large"}),F[3]||(F[3]=O("p",{class:"text-sm text-gray-400"},"æ­£å¨å è½½...",-1))])])):ue("",!0),O("div",{class:"p-2",style:$r({display:"grid",gridTemplateColumns:`repeat(${C.value}, minmax(150px, 350px))`,gap:"0.5rem"})},[(V(!0),Z(_e,null,ke(W(i).comicList,(U,E)=>(V(),ve(Ka,{key:`${U.id}-${E}`,comic:U,"is-active":W(i).currentComic?.id+""==U.id+"",container:s.value,"is-sidebar-collapsed":t.sidebarCollapsed??!1,"select-mode":f.value,selected:v.value.includes(U.id+""),onSelect:m,onToggleSelect:x},null,8,["comic","is-active","container","is-sidebar-collapsed","select-mode","selected"]))),128))],4),W(i).loading&&W(i).comicList.length>0?(V(),Z("div",ri,[j(T,{size:"small"}),F[4]||(F[4]=O("p",{class:"text-xs mt-2"},"å è½½ä¸­...",-1))])):ue("",!0),!W(i).hasMorePages&&W(i).comicList.length>0&&!W(i).loading?(V(),Z("div",ni,[...F[5]||(F[5]=[O("p",{class:"text-xs"},"æ²¡ææ´å¤äº ð¤ª",-1)])])):ue("",!0)]),_:1},8,["onLoad"]))],512)}}}),si=nt(oi,[["__scopeId","data-v-ef0029c4"]]),ai={class:"flex items-center gap-2 flex-shrink-0"},ii={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},li={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ci=Ae({__name:"PaginationBar",setup(r){const n=Ee(),{handlePageChange:e}=cn(),t=G(null),o=G(null),i=G(7),c=re({get:()=>n.currentPage,set:a=>n.setCurrentPage(a)}),l=()=>{n.toggleAutoLoadNextPage()},p=()=>{if(!o.value)return;const a=o.value.clientWidth,u=40,v=a-80,d=Math.floor(v/u),C=Math.max(3,Math.min(9,d));i.value=C%2===0?C-1:C};let s=null;return Oe(()=>{p(),o.value&&window.ResizeObserver?(s=new ResizeObserver(()=>{p()}),s.observe(o.value)):window.addEventListener("resize",p)}),d0(()=>{s?s.disconnect():window.removeEventListener("resize",p)}),(a,u)=>{const f=Y("n-pagination"),v=Y("n-icon"),d=Y("n-button");return V(),Z("div",{ref_key:"containerRef",ref:t,class:"p-4 border-t border-gray-800 flex items-center gap-4 flex-shrink-0"},[O("div",{ref_key:"paginationRef",ref:o,class:"flex-1 min-w-0"},[j(f,{page:c.value,"onUpdate:page":[u[0]||(u[0]=C=>c.value=C),u[1]||(u[1]=C=>W(e)(C,!0))],"page-size":W(n).pageSize,"item-count":W(n).totalItems,"page-slot":i.value,disabled:W(n).loading,size:"small"},null,8,["page","page-size","item-count","page-slot","disabled"])],512),O("div",ai,[j(d,{type:W(n).autoLoadNextPage?"primary":"default",size:"small",round:"",onClick:l,"theme-overrides":{colorPrimary:"#ec4899",colorPrimaryHover:"#db2777",colorPrimaryPressed:"#be185d",borderRadius:"8px",heightSmall:"32px",paddingSmall:"0 16px"},class:"transition-all"},{icon:K(()=>[j(v,{size:16},{default:K(()=>[W(n).autoLoadNextPage?(V(),Z("svg",ii,[...u[2]||(u[2]=[O("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},null,-1)])])):(V(),Z("svg",li,[...u[3]||(u[3]=[O("polyline",{points:"6 9 12 15 18 9"},null,-1)])]))]),_:1})]),default:K(()=>[te(" "+ne(W(n).autoLoadNextPage?"èªå¨å è½½":"æå¨ç¿»é¡µ"),1)]),_:1},8,["type"])])],512)}}}),xi={class:"flex flex-col gap-4 pr-4"},ui={class:"mt-2 grid grid-cols-1 sm:grid-cols-2 gap-3"},fi={class:"flex items-center justify-between gap-3"},di={class:"flex items-center justify-between gap-3"},pi={class:"flex items-center gap-2"},hi={class:"flex items-center justify-between"},vi={class:"flex items-center gap-4 w-64"},mi={class:"text-sm font-mono w-10"},gi={class:"flex items-center justify-between"},Ci={class:"flex items-center gap-4 w-64"},yi={class:"flex gap-2"},Ei={class:"text-xs text-gray-500 mt-2"},bi={class:"flex justify-between items-center"},Ai={class:"flex gap-2"},Bi=Ae({__name:"JMSettingsPanel",props:{show:{type:Boolean}},emits:["update:show"],setup(r){const n=Ee(),e=Ke(),t=G({...n.settings});de(()=>n.settings,m=>{t.value={...m}},{deep:!0});const o=[{label:"(é»è®¤) http://localhost:3000/proxy?url=",value:"http://localhost:3000/proxy?url="},{label:"CorsProxy.io https://corsproxy.io/?",value:"https://corsproxy.io/?"},{label:"AllOrigins https://api.allorigins.win/get?url=",value:"https://api.allorigins.win/get?url="},{label:"CORS.SH https://proxy.cors.sh/",value:"https://proxy.cors.sh/"},{label:"ThingProxy https://thingproxy.freeboard.io/fetch/",value:"https://thingproxy.freeboard.io/fetch/"},{label:"CORS Anywhere https://cors-anywhere.herokuapp.com/",value:"https://cors-anywhere.herokuapp.com/"},{label:"æ¸ç©º",value:""}],i=[{label:"www.cdnbea.club",value:"www.cdnbea.club"},{label:"www.cdnzack.cc",value:"www.cdnzack.cc"},{label:"www.cdnblackmyth.club",value:"www.cdnblackmyth.club"},{label:"jmcomic.me",value:"jmcomic.me"},{label:"jmcomic1.me",value:"jmcomic1.me"}],c=[{label:"cdn-msp2.jmapiproxy2.cc",value:"cdn-msp2.jmapiproxy2.cc"},{label:"cdn-msp.jmapiproxy2.cc",value:"cdn-msp.jmapiproxy2.cc"},{label:"img.jmcomic.me",value:"img.jmcomic.me"}],l=[{label:"18comicAPP",value:"18comicAPP"}],p=[{label:"18comicAPPContent",value:"18comicAPPContent"}],s=[{label:"185Hcomic3PAPP7R",value:"185Hcomic3PAPP7R"}],a=[{label:"2.0.13",value:"2.0.13"},{label:"2.0.6",value:"2.0.6"},{label:"1.7.5",value:"1.7.5"}],u=()=>{n.updateSettings(t.value),e.success("è®¾ç½®å·²ä¿å­")},f=()=>{t.value={proxyUrl:"",imageProxyEnabled:!0,apiProxyEnabled:!1,apiDomain:"www.cdnblackmyth.club",imageDomain:"cdn-msp2.jmapiproxy2.cc",appTokenSecret:"18comicAPP",appTokenSecret2:"18comicAPPContent",appDataSecret:"185Hcomic3PAPP7R",appVersion:"1.7.5",downloadDir:""},e.info("å·²éç½®ä¸ºé»è®¤è®¾ç½®")},v=async()=>{try{const m=await naimo.download.selectDownloadDirectory();m&&(t.value.downloadDir=m,e.success("å·²éæ©ä¸è½½ç®å½"))}catch(m){console.error("éæ©ä¸è½½ç®å½å¤±è´¥:",m),e.error("éæ©ä¸è½½ç®å½å¤±è´¥")}},d=m=>{n.cacheUtils.clear(m),m?e.success(`å·²æ¸é¤${m==="details"?"è¯¦æ":"å¾ç"}ç¼å­`):e.success("å·²æ¸é¤ææç¼å­")},C=m=>n.cacheUtils.getCount(m),h={scrollDown:{label:"åä¸æ»å¨"},scrollUp:{label:"åä¸æ»å¨"},autoScroll:{label:"åæ¢èªå¨æ»å¨"},speedUp:{label:"å¢å æ»å¨éåº¦"},speedDown:{label:"åå°æ»å¨éåº¦"}};function B(m,x){n.hotkeys[m]=x}return(m,x)=>{const y=Y("n-alert"),A=Y("n-divider"),_=Y("n-select"),F=Y("n-switch"),T=Y("n-input"),S=Y("n-button"),g=Y("n-space"),b=Y("n-slider"),U=Y("n-input-number"),E=Y("n-scrollbar"),k=Y("n-modal");return V(),ve(k,{show:r.show,preset:"card",title:"è®¾ç½®",style:{width:"90%","max-width":"600px"},"onUpdate:show":x[16]||(x[16]=P=>m.$emit("update:show",P))},{footer:K(()=>[O("div",bi,[j(S,{onClick:f},{default:K(()=>[...x[44]||(x[44]=[te("éç½®ä¸ºé»è®¤",-1)])]),_:1}),O("div",Ai,[j(S,{onClick:x[15]||(x[15]=P=>m.$emit("update:show",!1))},{default:K(()=>[...x[45]||(x[45]=[te("å³é­",-1)])]),_:1}),j(S,{type:"primary",onClick:u},{default:K(()=>[...x[46]||(x[46]=[te("ä¿å­",-1)])]),_:1})])])]),default:K(()=>[j(E,{style:{"max-height":"70vh"}},{default:K(()=>[O("div",xi,[j(y,{type:"warning",closable:!1,"show-icon":""},{default:K(()=>[...x[17]||(x[17]=[te(" JMComic æä¸¥æ ¼çé²çé¾ä¿æ¤ãè¦ä½¿ç¨æ­¤é¡µé¢ï¼æ¨å¿é¡»æä¾ä¸ä¸ªè½è½¬åè¯·æ±å¹¶ä¿®æ¹ Headers çåç«¯ä»£çå°åã ",-1)])]),_:1}),j(A,null,{default:K(()=>[...x[18]||(x[18]=[te("ä»£çè®¾ç½®",-1)])]),_:1}),O("div",null,[x[21]||(x[21]=O("label",{class:"block text-sm font-medium mb-1"},"ä»£çæå¡ URL (CORS Proxy)",-1)),j(_,{value:t.value.proxyUrl,"onUpdate:value":x[0]||(x[0]=P=>t.value.proxyUrl=P),options:o,filterable:"",tag:"",clearable:"",placeholder:"ä¾å¦: http://localhost:3000/proxy?url="},null,8,["value"]),x[22]||(x[22]=O("p",{class:"text-xs text-gray-500 mt-1"}," ä»£çéè¦å¤çè¯·æ±å¹¶å°å¾çæ°æ®ä»¥äºè¿å¶æµè¿åï¼åæ¶è®¾ç½® Header: `Referer: https://jmcomic.me/` ",-1)),O("div",ui,[O("div",fi,[x[19]||(x[19]=O("span",{class:"text-sm text-gray-300"},"å¯ç¨å¾çä»£ç",-1)),j(F,{value:t.value.imageProxyEnabled,"onUpdate:value":x[1]||(x[1]=P=>t.value.imageProxyEnabled=P)},null,8,["value"])]),O("div",di,[x[20]||(x[20]=O("span",{class:"text-sm text-gray-300"},"å¯ç¨ API ä»£ç",-1)),j(F,{value:t.value.apiProxyEnabled,"onUpdate:value":x[2]||(x[2]=P=>t.value.apiProxyEnabled=P)},null,8,["value"])])])]),j(A,null,{default:K(()=>[...x[23]||(x[23]=[te("API éç½®",-1)])]),_:1}),O("div",null,[x[24]||(x[24]=O("label",{class:"block text-sm font-medium mb-1"},"API åå (API_DOMAIN)",-1)),j(_,{value:t.value.apiDomain,"onUpdate:value":x[3]||(x[3]=P=>t.value.apiDomain=P),options:i,filterable:"",tag:"",clearable:"",placeholder:"ä¾å¦: www.cdnblackmyth.club"},null,8,["value"])]),O("div",null,[x[25]||(x[25]=O("label",{class:"block text-sm font-medium mb-1"},"å¾çåå (IMAGE_DOMAIN)",-1)),j(_,{value:t.value.imageDomain,"onUpdate:value":x[4]||(x[4]=P=>t.value.imageDomain=P),options:c,filterable:"",tag:"",clearable:"",placeholder:"ä¾å¦: cdn-msp2.jmapiproxy2.cc"},null,8,["value"])]),O("div",null,[x[26]||(x[26]=O("label",{class:"block text-sm font-medium mb-1"},"Token å¯é¥ (APP_TOKEN_SECRET)",-1)),j(_,{value:t.value.appTokenSecret,"onUpdate:value":x[5]||(x[5]=P=>t.value.appTokenSecret=P),options:l,filterable:"",tag:"",clearable:"",placeholder:"ä¾å¦: 18comicAPP"},null,8,["value"])]),O("div",null,[x[27]||(x[27]=O("label",{class:"block text-sm font-medium mb-1"},"Token å¯é¥ 2 (APP_TOKEN_SECRET_2)",-1)),j(_,{value:t.value.appTokenSecret2,"onUpdate:value":x[6]||(x[6]=P=>t.value.appTokenSecret2=P),options:p,filterable:"",tag:"",clearable:"",placeholder:"ä¾å¦: 18comicAPPContent"},null,8,["value"])]),O("div",null,[x[28]||(x[28]=O("label",{class:"block text-sm font-medium mb-1"},"æ°æ®å¯é¥ (APP_DATA_SECRET)",-1)),j(_,{value:t.value.appDataSecret,"onUpdate:value":x[7]||(x[7]=P=>t.value.appDataSecret=P),options:s,filterable:"",tag:"",clearable:"",placeholder:"ä¾å¦: 185Hcomic3PAPP7R"},null,8,["value"])]),O("div",null,[x[29]||(x[29]=O("label",{class:"block text-sm font-medium mb-1"},"åºç¨çæ¬ (APP_VERSION)",-1)),j(_,{value:t.value.appVersion,"onUpdate:value":x[8]||(x[8]=P=>t.value.appVersion=P),options:a,filterable:"",tag:"",clearable:"",placeholder:"ä¾å¦: 1.7.5"},null,8,["value"])]),j(A,null,{default:K(()=>[...x[30]||(x[30]=[te("ä¸è½½è®¾ç½®",-1)])]),_:1}),O("div",null,[x[32]||(x[32]=O("label",{class:"block text-sm font-medium mb-1"},"ä¸è½½ç®å½",-1)),O("div",pi,[j(T,{value:t.value.downloadDir,"onUpdate:value":x[9]||(x[9]=P=>t.value.downloadDir=P),placeholder:"æªè®¾ç½®æ¶ä½¿ç¨ç³»ç»ä¸è½½ç®å½",readonly:""},null,8,["value"]),j(S,{size:"small",onClick:v},{default:K(()=>[...x[31]||(x[31]=[te(" éæ©ç®å½ ",-1)])]),_:1})]),x[33]||(x[33]=O("p",{class:"text-xs text-gray-500 mt-1"},"ç¨äºæ¹éä¸è½½ç« èå¾çæ¶çä¿å­ä½ç½®ã",-1))]),j(A,null,{default:K(()=>[...x[34]||(x[34]=[te("å¿«æ·é®è®¾ç½®",-1)])]),_:1}),O("div",null,[j(g,{vertical:"",size:16},{default:K(()=>[(V(),Z(_e,null,ke(h,(P,D)=>j(Tn,{key:D,label:P.label,"action-key":D,"current-key":W(n).hotkeys[D],onUpdate:B},null,8,["label","action-key","current-key"])),64))]),_:1})]),j(A,null,{default:K(()=>[...x[35]||(x[35]=[te("èªå¨æ»å¨è®¾ç½®",-1)])]),_:1}),O("div",null,[j(g,{vertical:"",size:12},{default:K(()=>[O("div",hi,[x[36]||(x[36]=O("span",null,"æ»å¨éåº¦",-1)),O("div",vi,[j(b,{value:W(n).autoScrollSpeed,"onUpdate:value":x[10]||(x[10]=P=>W(n).autoScrollSpeed=P),min:1,max:10,step:1,tooltip:!1,style:{width:"200px"}},null,8,["value"]),O("span",mi,ne(W(n).autoScrollSpeed),1)])])]),_:1})]),j(A,null,{default:K(()=>[...x[37]||(x[37]=[te("éè¯»æ§è½",-1)])]),_:1}),O("div",null,[j(g,{vertical:"",size:12},{default:K(()=>[O("div",gi,[x[38]||(x[38]=O("span",null,"æå¤§åæ¶æ¸²æå¾çæ°",-1)),O("div",Ci,[j(U,{value:W(n).virtualMaxRenderCount,"onUpdate:value":x[11]||(x[11]=P=>W(n).virtualMaxRenderCount=P),min:20,max:500,step:10,size:"small",style:{width:"160px"}},null,8,["value"])])])]),_:1})]),j(A,null,{default:K(()=>[...x[39]||(x[39]=[te("ç¼å­ç®¡ç",-1)])]),_:1}),O("div",null,[x[43]||(x[43]=O("p",{class:"text-sm text-gray-400 mb-3"}," ç¼å­ç¨äºæåå è½½éåº¦ï¼èªå¨å¨24å°æ¶åè¿æãæ¨å¯ä»¥æå¨æ¸é¤ç¼å­ä»¥è·åææ°æ°æ®ã ",-1)),O("div",yi,[j(S,{onClick:x[12]||(x[12]=P=>d("details")),size:"small"},{default:K(()=>[...x[40]||(x[40]=[te("æ¸é¤è¯¦æç¼å­",-1)])]),_:1}),j(S,{onClick:x[13]||(x[13]=P=>d("chapters")),size:"small"},{default:K(()=>[...x[41]||(x[41]=[te("æ¸é¤å¾çç¼å­",-1)])]),_:1}),j(S,{onClick:x[14]||(x[14]=P=>d()),size:"small",type:"error"},{default:K(()=>[...x[42]||(x[42]=[te("æ¸é¤ææç¼å­",-1)])]),_:1})]),O("p",Ei," å½åç¼å­ï¼è¯¦æ "+ne(C("details"))+" é¡¹ï¼å¾ç "+ne(C("chapters"))+" é¡¹ ",1)])])]),_:1})]),_:1},8,["show"])}}}),wi={class:"flex flex-col",style:{"max-height":"calc(90vh - 120px)"}},_i={class:"flex items-center justify-between text-xs text-gray-400 mb-4 flex-shrink-0"},Di={class:"flex items-center gap-10"},Fi={class:"flex items-center gap-1"},Si={class:"flex items-center gap-1"},ki={class:"flex-1 overflow-y-auto min-h-0"},Ri={class:"space-y-3"},Pi={class:"flex items-center justify-between text-xs text-gray-300 gap-3"},Ii={class:"flex items-center gap-2 min-w-0"},Ti={class:"truncate"},$i={class:"flex items-center gap-2"},Li={class:"whitespace-nowrap text-right text-gray-400"},Oi={key:1,class:"text-xs text-gray-500 italic"},Ui={key:2,class:"text-xs text-red-400"},Hi={key:1,class:"py-10 flex flex-col items-center justify-center text-gray-500 text-sm"},zi={class:"flex justify-end gap-2 mt-2 flex-shrink-0"},Ni=Ae({__name:"JMDownloadPanel",props:{show:{type:Boolean}},emits:["update:show"],setup(r,{emit:n}){const e=n,t=E0(),o=re(()=>t.comicGroups.map(a=>a.key)),i=a=>{switch(a){case"pending":return"å¾å¼å§";case"fetching":return"å è½½ä¸­";case"queued":return"å¾ä¸è½½";case"downloading":return"ä¸è½½ä¸­";case"completed":return"å·²å®æ";case"error":return"åºé";default:return a}},c=a=>{switch(a){case"completed":return"success";case"error":return"error";case"downloading":return"info";case"fetching":return"warning";default:return"default"}},l=a=>{if(a.total<=0)return"å¾å è½½";const u=a.total>0?Math.round(a.finished/a.total*100):0;return`${a.finished}/${a.total} (${u}%)`},p=a=>{e("update:show",a)},s=()=>{e("update:show",!1)};return(a,u)=>{const f=Y("n-input-number"),v=Y("n-tag"),d=Y("n-button"),C=Y("n-progress"),h=Y("n-collapse-item"),B=Y("n-collapse"),m=Y("n-empty"),x=Y("n-modal");return V(),ve(x,{show:r.show,preset:"card",title:"ä¸è½½ç®¡ç",style:{width:"80%","max-width":"1200px","max-height":"90vh"},"mask-closable":!0,closable:!0,"onUpdate:show":p},{default:K(()=>[O("div",wi,[O("div",_i,[O("div",null," å± "+ne(W(t).totalChapters)+" ç« èï¼å·²å®æ "+ne(W(t).finishedChapters)+" ç« è ",1),O("div",Di,[O("div",Fi,[u[2]||(u[2]=O("span",null,"ç« èå¹¶å",-1)),j(f,{value:W(t).fetchConcurrency,"onUpdate:value":u[0]||(u[0]=y=>W(t).fetchConcurrency=y),size:"small",min:1,max:10,style:{width:"80px"}},null,8,["value"])]),O("div",Si,[u[3]||(u[3]=O("span",null,"å¾çå¹¶å",-1)),j(f,{value:W(t).downloadConcurrency,"onUpdate:value":u[1]||(u[1]=y=>W(t).downloadConcurrency=y),size:"small",min:1,max:20,style:{width:"80px"}},null,8,["value"])])])]),O("div",ki,[W(t).comicGroups.length>0?(V(),ve(B,{key:0,accordion:!1,"default-expanded-names":o.value},{default:K(()=>[(V(!0),Z(_e,null,ke(W(t).comicGroups,y=>(V(),ve(h,{key:y.key,title:`${y.comicTitle} (${y.finishedChapters}/${y.totalChapters})`,name:y.key},{default:K(()=>[O("div",Ri,[(V(!0),Z(_e,null,ke(y.chapters,A=>(V(),Z("div",{key:A.chapterId,class:"space-y-1 pl-6"},[O("div",Pi,[O("div",Ii,[O("span",Ti,ne(A.chapterTitle),1),j(v,{size:"tiny",type:c(A.status)},{default:K(()=>[te(ne(i(A.status)),1)]),_:2},1032,["type"])]),O("div",$i,[O("span",Li,ne(l(A)),1),j(d,{size:"tiny",text:"",type:"error",onClick:_=>W(t).deleteDownload(A.chapterId)},{default:K(()=>[...u[4]||(u[4]=[te(" å é¤ ",-1)])]),_:1},8,["onClick"])])]),A.total>0?(V(),ve(C,{key:0,type:"line",percentage:Math.round(A.finished/A.total*100),"show-indicator":!1,status:"success"},null,8,["percentage"])):(V(),Z("div",Oi,"å¾å è½½ç« èå¾çâ¦")),A.status==="error"&&A.error?(V(),Z("div",Ui,ne(A.error),1)):ue("",!0)]))),128))])]),_:2},1032,["title","name"]))),128))]),_:1},8,["default-expanded-names"])):(V(),Z("div",Hi,[j(m,{description:"ææ ä¸è½½ä»»å¡"})]))]),O("div",zi,[j(d,{size:"small",onClick:s},{default:K(()=>[...u[5]||(u[5]=[te("å³é­",-1)])]),_:1})])])]),_:1},8,["show"])}}}),Mi={class:"w-full flex flex-col items-center gap-0 py-0"},qi={class:"absolute top-3 left-3 z-10 flex opacity-0 group-hover:opacity-100 transition-opacity"},ji=40,Wi=Ae({__name:"JMImageViewer",setup(r,{expose:n}){const e=Ee(),t=$n(),o=Ke(),i=G(null),c=G(null),l=G(null),p=G(0),s=new Map,a=new Map,u=l0(new Map),f=l0(new Set),v=re(()=>e.readingImages.map((w,$)=>({key:`${w.url}-${$}`,url:w.url,index:w.index,filename:`image-${w.index+1}`,path:w.path||""}))),d=re(()=>{const w=e.virtualMaxRenderCount??100,$=typeof w=="number"?w:Number(w)||100;return Math.max(20,Math.min(500,$))}),C=re(()=>{const $=v.value.length,z=d.value;if($<=z)return 0;const M=Math.min(Math.max(0,e.currentImageIndex),$-1);let R=Math.max(0,M-ji),I=Math.min($,R+z);return I-R<z&&(R=Math.max(0,I-z)),R}),h=re(()=>{const w=v.value,$=d.value;if(w.length<=$)return w;const z=C.value,M=Math.min(w.length,z+$);return w.slice(z,M)});function B(w,$){w&&$?s.set($.key,w):!w&&$&&s.delete($.key)}function m(w,$){w&&$?a.set($.key,w):!w&&$&&a.delete($.key)}function x(w){return u.has(w)}function y(w){return f.has(w)}function A(){return(t.staticDirs||[]).map(w=>String(w||"").trim()).filter(w=>w)}async function _(w){const $=s.get(w.key);if($&&$.complete&&$.naturalWidth>0&&$.naturalHeight>0)try{const M=document.createElement("canvas");M.width=$.naturalWidth,M.height=$.naturalHeight;const R=M.getContext("2d");if(R){R.drawImage($,0,0,M.width,M.height);const I=await new Promise((N,H)=>{M.toBlob(X=>{if(!X){H(new Error("æ æ³å¯¼åºå¾ç"));return}N(X)},"image/png")});return new Promise((N,H)=>{const X=new FileReader;X.onload=()=>{N(X.result)},X.onerror=()=>{H(X.error)},X.readAsArrayBuffer(I)})}}catch(M){M?.name==="SecurityError"||M?.message?.includes("Tainted")||M?.message?.includes("tainted")?console.warn("Canvas è·¨åéå¶ï¼ä½¿ç¨ fetch æ¹å¼è·åå¾ç:",M):console.warn("Canvas å¯¼åºå¤±è´¥ï¼ä½¿ç¨ fetch æ¹å¼è·åå¾ç:",M)}const z=await fetch($?.src||w.url);if(!z.ok)throw new Error("æ æ³è·åå¾çæ°æ®");return z.arrayBuffer()}async function F(w){const $=w.key,z=A();if(z.length===0){o.warning("è¯·åå¨è®¾ç½®ä¸­éç½®æ¬å°éè¯»ç®å½");return}if(f.has($))return;const M=e.currentChapterImages[w.index],R=Un({comicTitle:e.currentComic?.title||"æ¶èæ¼«ç»",chapterTitle:e.currentChapter?.title||"ç« è",originalName:M?.filename||`image-${w.index+1}`,index:w.index+1});f.add($);try{const I=await _(w);await window.comicReaderAPI.saveImageToFavorites({staticDirs:z,filename:R,data:I}),u.set($,R),o.success("å·²æ·»å æ¶è")}catch(I){console.error("æ¶èå¾çå¤±è´¥:",I),o.error(I?.message||"æ¶èå¤±è´¥")}finally{f.delete($)}}async function T(w){const $=w.key,z=A();if(z.length===0){o.warning("è¯·åå¨è®¾ç½®ä¸­éç½®æ¬å°éè¯»ç®å½");return}if(f.has($))return;const M=u.get($);if(!M){o.warning("æªæ¾å°æ¶èè®°å½");return}f.add($);try{await window.comicReaderAPI.removeFavoriteImage({staticDirs:z,filename:M}),u.delete($),o.success("å·²åæ¶æ¶è")}catch(R){console.error("åæ¶æ¶èå¤±è´¥:",R),o.error(R?.message||"æä½å¤±è´¥")}finally{f.delete($)}}function S(w,$){if($&&w.target){const z=w.target;B(z,$),b(),he.emit("image-decode",{type:"image-loaded",imageUrl:$.url,imageIndex:$.index})}}function g(w,$){he.emit("image-decode",{type:"image-error",imageUrl:$.url,imageIndex:$.index,error:new Error("å¾çå è½½å¤±è´¥")})}function b(){const w=D();if(!w||!i.value)return;const $=w.scrollTop+w.clientHeight/2;let z=0,M=Number.POSITIVE_INFINITY;h.value.forEach((N,H)=>{const X=a.get(N.key);if(!X)return;const ie=X.offsetTop+X.clientHeight/2,Q=Math.abs(ie-$);Q<M&&(M=Q,z=H)});const R=C.value+z,I=Math.min(Math.max(1,R+1),e.readingImages.length);I!==e.currentImageIndex+1&&e.setCurrentImageIndex(I-1)}function U(w){const $=w.target;p.value=$.scrollTop,b()}function E(w){const $=D();let z=null;if($&&h.value.length>0){const I=Math.min(Math.max(0,e.currentImageIndex),v.value.length-1),N=v.value[I],H=N?a.get(N.key):null;H?z=H.offsetTop+H.clientHeight/2-$.scrollTop:z=$.clientHeight/2}const M=Math.max(10,Math.min(100,w)),R=e.imageScale;M!==R&&(e.setImageScale(M),qe(()=>{const I=D();if(!I||z==null)return;const N=Math.min(Math.max(0,e.currentImageIndex),v.value.length-1),H=v.value[N],X=H?a.get(H.key):null;if(!X)return;const ie=X.offsetTop+X.clientHeight/2-z;I.scrollTo({top:Math.max(0,ie),left:0})}))}function k(w){if(w.ctrlKey||w.metaKey){w.preventDefault();const $=w.deltaY>0?-5:5;E(e.imageScale+$)}}function P(){const w=D();qe(()=>{c.value?.scrollTo?c.value.scrollTo({left:0,top:0}):w&&w.scrollTo({left:0,top:0}),p.value=0})}function D(){if(c.value?.containerRef)return c.value.containerRef;if(l.value)return l.value;const w=document.getElementById("jm-image-scroll-container");if(w){const $=w.querySelector(".n-scrollbar-container")||w;return l.value=$,$}return null}return n({scrollContainerRef:l,getScrollContainer:D,scrollToTop:P,scrollBy:w=>{const $=D();if($)$.scrollTop+=w;else if(c.value?.scrollTo){const z=p.value;c.value.scrollTo({top:z+w})}},setScaleWithAnchor:E}),de(()=>e.currentChapter,()=>{P()}),de(()=>e.imageScale,()=>{qe(()=>{b()})}),de(()=>e.readingImages,()=>{s.clear(),a.clear(),u.clear(),f.clear()},{immediate:!0}),Oe(()=>{qe(()=>{l.value=D(),c.value?.scrollTo&&c.value.scrollTo({left:0,top:0})})}),(w,$)=>(V(),Z("div",{ref_key:"viewerContainer",ref:i,class:"viewer h-full flex-1 relative bg-[#050505] overflow-hidden outline-none focus:outline-none",tabindex:"-1"},[j(W(wn),{ref_key:"scrollbarRef",ref:c,id:"jm-image-scroll-container",class:"menu viewer h-full w-full",style:{height:"100%"},onScroll:U,onWheel:k},{default:K(()=>[O("div",Mi,[(V(!0),Z(_e,null,ke(h.value,z=>(V(),Z("div",{key:z.key,class:"w-full flex items-center justify-center outline-none focus:outline-none ring-0 focus:ring-0 relative group",ref_for:!0,ref:M=>m(M,z)},[O("div",qi,[j(Ln,{favorited:x(z.key),loading:y(z.key),onAdd:M=>F(z),onRemove:M=>T(z)},null,8,["favorited","loading","onAdd","onRemove"])]),j(On,{item:z,"file-path":z.path,"img-style":{width:`${W(e).imageScale}%`},"img-class":"block mx-auto max-w-full w-auto h-auto object-contain bg-[#111] select-none outline-none focus:outline-none ring-0 focus:ring-0","get-scroll-container":D,onLoaded:M=>S(M,z),onError:M=>g(M,z)},null,8,["item","file-path","img-style","onLoaded","onError"])]))),128))])]),_:1},512)],512))}}),Ki=Ae({__name:"ImageDecodeHandler",setup(r){const n=Ee();async function e(i){return!i||!i.startsWith("blob:")?!1:new Promise(c=>{const l=new Image;let p=!1;const s=()=>{p||(p=!0)};l.onload=()=>{s(),c(!0)},l.onerror=()=>{s(),c(!1)},setTimeout(()=>{p||(p=!0,c(!1))},1e3),l.src=i})}async function t(i){if(i.type==="image-loaded"){const c=n.currentChapterImages.find(l=>l.url===i.imageUrl||l.index===i.imageIndex+1);if(!c)return;if(c.processedUrl)if(await e(c.processedUrl)){const p=n.readingImages.find(s=>s.index===i.imageIndex);p&&(p.url=c.processedUrl),he.emit("image-decode",{type:"image-decoded",imageUrl:i.imageUrl,imageIndex:i.imageIndex,decodedUrl:c.processedUrl});return}else c.processedUrl=void 0;if(c.blockNum>0&&!c.processedUrl&&!c.isProcessing)try{if(!n.api)return;const l=await n.api.processImage(c);if(l&&l.startsWith("blob:")){const p=n.readingImages.find(s=>s.index===i.imageIndex);p&&(p.url=l),he.emit("image-decode",{type:"image-decoded",imageUrl:i.imageUrl,imageIndex:i.imageIndex,decodedUrl:l})}}catch(l){console.error("å¾çè§£ç å¤±è´¥:",l),he.emit("image-decode",{type:"image-error",imageUrl:i.imageUrl,imageIndex:i.imageIndex,error:l})}}}const o=i=>{t(i)};return Oe(()=>{he.on("image-decode",o)}),d0(()=>{he.off("image-decode",o)}),(i,c)=>null}}),Vi={class:"flex items-center justify-between gap-2"},Xi={class:"flex items-center gap-2 flex-1 overflow-hidden"},Gi=["title"],Qi={key:0,class:"text-xs flex items-center gap-2"},Yi={key:0,class:"text-gray-400"},Ir=Ae({__name:"ChapterListItem",props:{chapter:{},isActive:{type:Boolean},downloadMode:{type:Boolean},selected:{type:Boolean},downloadInfo:{}},emits:["select","toggle-select"],setup(r,{expose:n,emit:e}){const t=r,o=e,i=G(null),c=re(()=>t.downloadInfo&&{pending:"ç­å¾ä¸è½½",fetching:"å è½½ä¸­",queued:"æéä¸­",downloading:"ä¸è½½ä¸­",completed:"å·²å®æ",error:"ä¸è½½å¤±è´¥"}[t.downloadInfo.status]||""),l=re(()=>t.downloadInfo&&{pending:"bg-gray-600",fetching:"bg-blue-600",queued:"bg-blue-600",downloading:"bg-primary text-black",completed:"bg-green-600",error:"bg-red-600"}[t.downloadInfo.status]||""),p=re(()=>!t.downloadInfo||t.downloadInfo.total===0?0:Math.floor(t.downloadInfo.finished/t.downloadInfo.total*100)),s=re(()=>!t.downloadInfo||t.downloadInfo.total===0?"":`${t.downloadInfo.finished}/${t.downloadInfo.total}`),a=re(()=>t.downloadInfo?t.downloadInfo.status==="downloading"&&t.downloadInfo.total>0:!1),u=v=>{o("select",v)},f=v=>{o("toggle-select",v)};return n({getElement:()=>i.value}),(v,d)=>{const C=Y("n-checkbox"),h=Y("n-progress");return V(),ve(_n(r.downloadMode?"label":"button"),{ref_key:"rootRef",ref:i,class:rt(["chapter-item flex flex-col gap-1 px-3 py-2 bg-gray-700/70 rounded text-sm text-left transition",{"cursor-pointer":!0,"chapter-item--active":r.isActive||r.selected}]),onClick:u},{default:K(()=>[O("div",Vi,[O("div",Xi,[r.downloadMode?(V(),ve(C,{key:0,size:"small",checked:r.selected,"onUpdate:checked":f,onClick:d[0]||(d[0]=Dn(()=>{},["stop"]))},null,8,["checked"])):ue("",!0),O("span",{class:"truncate",title:r.chapter.title},ne(r.chapter.title),9,Gi)]),r.downloadInfo?(V(),Z("div",Qi,[O("span",{class:rt(["inline-flex items-center gap-1 rounded-full px-2 py-0.5 bg-gray-600 text-gray-100",l.value])},[O("span",null,ne(c.value),1)],2),a.value?(V(),Z("span",Yi,ne(s.value),1)):ue("",!0)])):ue("",!0)]),a.value?(V(),ve(h,{key:0,percentage:p.value,"show-indicator":!1,status:"success",size:"small",processing:""},null,8,["percentage"])):ue("",!0)]),_:1},8,["class"])}}}),Zi={class:"bg-cardbg rounded-xl p-6 shadow-lg flex flex-col md:flex-row gap-6"},Ji={class:"w-full md:w-1/2 lg:w-1/3 flex-shrink-0"},el={class:"flex items-center justify-center w-full h-full bg-gray-800"},tl={class:"flex-1 select-text"},rl={class:"text-2xl md:text-3xl font-bold text-white mb-2"},nl={class:"text-gray-400 text-sm mb-4"},ol={key:0,class:"flex items-center gap-4 mb-4 text-sm"},sl={key:0,class:"flex items-center gap-1.5 text-gray-300"},al={key:1,class:"flex items-center gap-1.5 text-gray-300"},il={class:"flex flex-wrap gap-2 mb-4"},ll={class:"text-gray-300 text-sm leading-relaxed mb-6"},cl={class:"border-t border-gray-700 pt-4"},xl={class:"flex items-center justify-between mb-3"},ul={class:"flex items-center gap-2"},fl={key:0,class:"py-10 text-center"},dl={key:1},pl={key:0,class:"flex items-center justify-between mb-3 text-xs text-gray-300"},hl={class:"flex items-center gap-2"},vl=Ae({__name:"ComicDetailPanel",setup(r){const n=Ee(),e=E0(),t=Ke(),o=G(!1),i=G([]),c=G(null),l=G(null),p=G([]),s=G(!1),a=G(null),u=G(null),f=(D,w=!1)=>{if(!D)return"";if(D.startsWith("data:")||D.startsWith("blob:")||D.includes("placeholder"))return D;if(n.settings.proxyUrl&&n.settings.imageProxyEnabled!==!1){const $=w?"&type=image":"";return`${n.settings.proxyUrl}${encodeURIComponent(D)}${$}`}return D},v=()=>{},d=re(()=>n.currentComic?.likes!==void 0&&n.currentComic?.likes!==null&&n.currentComic?.likes!==""||n.currentComic?.total_views!==void 0&&n.currentComic?.total_views!==null&&n.currentComic?.total_views!==""),C=D=>{if(D==null||D==="")return"0";const w=typeof D=="string"?parseInt(D,10):D;return isNaN(w)?"0":w>=1e4?(w/1e4).toFixed(1)+"ä¸":w.toLocaleString()},h=()=>{o.value=!o.value,o.value||(i.value=[])},B=re(()=>{if(!a.value||!u.value||!l.value)return{};const D=l.value.getBoundingClientRect(),w=Math.min(a.value.x,u.value.x),$=Math.min(a.value.y,u.value.y),z=Math.max(a.value.x,u.value.x),M=Math.max(a.value.y,u.value.y),R=Math.max(w,D.left),I=Math.max($,D.top),N=Math.min(z,D.right),H=Math.min(M,D.bottom),X=R-D.left,ee=I-D.top,ie=Math.max(0,N-R),Q=Math.max(0,H-I);return{left:`${X}px`,top:`${ee}px`,width:`${ie}px`,height:`${Q}px`,backgroundColor:"rgba(255, 255, 255, 0.16)"}}),m=D=>e.getChapterDownload(D)||null,x=(D,w)=>{const $=D.id,z=i.value.slice(),M=z.indexOf($);w?M===-1&&z.push($):M!==-1&&z.splice(M,1),i.value=z},y=(D,w)=>{const[$,z]=D<w?[D,w]:[w,D],M=[];for(let R=$;R<=z;R++){const I=n.chapterList[R];I&&M.push(I.id)}i.value=M},A=(D,w,$)=>{if(o.value){if($&&$.shiftKey&&c.value!==null)y(c.value,w);else{const z=!i.value.includes(D.id);x(D,z)}c.value=w}},_=()=>{if(!a.value||!u.value)return;const D=Math.min(a.value.x,u.value.x),w=Math.min(a.value.y,u.value.y),$=Math.max(a.value.x,u.value.x),z=Math.max(a.value.y,u.value.y),M=[],R=I=>I?typeof I.getElement=="function"?I.getElement():I.$el?I.$el:I:null;p.value.forEach((I,N)=>{const H=R(I);if(!H)return;const X=H.getBoundingClientRect(),ee=X.left+X.width/2,ie=X.top+X.height/2;if(ee>=D&&ee<=$&&ie>=w&&ie<=z){const Q=n.chapterList[N];Q&&M.push(Q.id)}}),i.value=M},F=D=>{if(!o.value)return;const w=l.value;!w||!w.contains(D.target)||!D.shiftKey||D.target.closest(".n-checkbox")||(s.value=!0,a.value={x:D.clientX,y:D.clientY},u.value={x:D.clientX,y:D.clientY},window.addEventListener("mousemove",T),window.addEventListener("mouseup",S))},T=D=>{s.value&&(u.value={x:D.clientX,y:D.clientY},_())},S=()=>{s.value&&(s.value=!1,a.value=null,u.value=null,window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",S))},g=D=>{o.value&&D.key==="a"&&(D.ctrlKey||D.metaKey)&&(D.preventDefault(),i.value=n.chapterList.map(w=>w.id))};Oe(()=>{window.addEventListener("mousedown",F),window.addEventListener("keydown",g)}),Fn(()=>{window.removeEventListener("mousedown",F),window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",S),window.removeEventListener("keydown",g)});const b=()=>{i.value.length===n.chapterList.length?i.value=[]:i.value=n.chapterList.map(D=>D.id)},U=async()=>{if(i.value.length!==0)try{if(!await e.startDownload(i.value.slice())){t.warning("éä¸­ç« èæ²¡æå¯ä¸è½½çå¾ç");return}t.success("ä¸è½½ä»»å¡å·²å¼å§ï¼å¨åå°è¿è¡")}catch(D){console.error("æ¹éä¸è½½å¤±è´¥:",D),t.error("æ¹éä¸è½½å¤±è´¥")}finally{o.value=!1,i.value=[]}},E=async()=>{if(n.chapterList.length===0)return;const D=n.chapterList.map(w=>w.id);try{if(!await e.startDownload(D)){t.warning("æ²¡æå¯ä¸è½½çç« è");return}t.success("ææç« èä¸è½½ä»»å¡å·²å¼å§ï¼å¨åå°è¿è¡")}catch(w){console.error("ä¸è½½å¨é¨ç« èå¤±è´¥:",w),t.error("ä¸è½½å¨é¨ç« èå¤±è´¥")}finally{o.value=!1,i.value=[]}},k=async D=>{n.currentChapterImages&&n.currentChapterImages.length>0&&n.currentChapterImages.forEach(w=>{w.processedUrl&&w.processedUrl.startsWith("blob:")&&(URL.revokeObjectURL(w.processedUrl),w.processedUrl=void 0)}),n.setCurrentChapter(D),n.setReadingImages([]),n.setCurrentChapterImages([]),n.setCurrentImageIndex(0),n.setDetailLoading(!0);try{if(await P(D))return;const $=D.id;let z=n.cacheUtils.get($,"chapters");if(!z){if(!n.api)throw new Error("API æªåå§å");z=await n.api.getChapterImages($),z&&z.images&&n.cacheUtils.set($,z,"chapters")}if(z&&z.images&&Array.isArray(z.images))n.setCurrentChapterImages(z.images),n.setReadingImages(z.images.map((M,R)=>({url:M.url,index:R})));else throw new Error("ç« èå¾çåè¡¨ä¸ºç©º");he.emit("chapter-selected",{chapterId:D.id})}catch(w){console.error("è·åç« èå¾çå¤±è´¥:",w)}finally{n.setDetailLoading(!1)}},P=async D=>{const w=e.getChapterDownload(D.id);if(!w||w.status!=="completed")return!1;const $=await e.getDownloadedChapterImages(D.id);if(!$||$.length===0)return t.warning("æ¬å°ä¸è½½åå®¹ä¸ºç©ºï¼å°è¯å¨çº¿è¯»å"),!1;const z=$.map((M,R)=>{const I=M.filename||`image-${R+1}.jpg`;return{url:M.url,path:M.path,filename:I,index:R}});return n.setCurrentChapterImages(z.map(M=>({url:M.url,filename:M.filename,filenameWithoutExt:M.filename.replace(/\.[^.]+$/,""),blockNum:0,index:M.index,localPath:M.path}))),n.setReadingImages(z.map(M=>({url:M.url,index:M.index,path:M.path}))),he.emit("chapter-selected",{chapterId:D.id}),t.success("å·²å è½½æ¬å°ä¸è½½ç« è"),!0};return de(()=>({comicTitle:n.currentComic?.title,chapters:(n.chapterList||[]).map(D=>({id:D.id,title:D.title}))}),D=>{!D.comicTitle||!D.chapters||D.chapters.forEach(w=>{e.ensureLocalDownloadRecord(w.id,w.title,D.comicTitle)})},{immediate:!0,deep:!0}),(D,w)=>{const $=Y("n-spin"),z=Y("n-image"),M=Y("n-tag"),R=Y("n-button");return V(),Z("div",Zi,[O("div",Ji,[j(z,{src:f(W(n).currentComic?.cover||"",!0),lazy:"","preview-disabled":!1,class:"w-full rounded-lg shadow-md object-cover aspect-[2/3]",onError:v},{placeholder:K(()=>[O("div",el,[j($,{size:"small"})])]),_:1},8,["src"])]),O("div",tl,[O("h1",rl,ne(W(n).currentComic?.title),1),O("p",nl,"JM ID: "+ne(W(n).currentComic?.id),1),d.value?(V(),Z("div",ol,[W(n).currentComic?.likes?(V(),Z("div",sl,[w[0]||(w[0]=O("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 text-red-400",fill:"currentColor",viewBox:"0 0 24 24"},[O("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})],-1)),O("span",null,ne(C(W(n).currentComic.likes)),1)])):ue("",!0),W(n).currentComic?.total_views?(V(),Z("div",al,[w[1]||(w[1]=O("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),O("span",null,ne(C(W(n).currentComic.total_views)),1)])):ue("",!0)])):ue("",!0),O("div",il,[(V(!0),Z(_e,null,ke(W(n).currentComic?.tags,I=>(V(),ve(M,{key:I,type:"default",round:""},{default:K(()=>[te(ne(I),1)]),_:2},1024))),128))]),O("p",ll,ne(W(n).currentComic?.description||"ææ ç®ä»..."),1),O("div",cl,[O("div",xl,[w[3]||(w[3]=O("h3",{class:"text-lg font-semibold flex items-center"},"ç« èåè¡¨",-1)),O("div",ul,[W(n).chapterList.length>1?(V(),ve(R,{key:0,size:"small",tertiary:"",onClick:h},{default:K(()=>[te(ne(o.value?"éåºä¸è½½æ¨¡å¼":"ä¸è½½æ¨¡å¼"),1)]),_:1})):ue("",!0),j(R,{size:"small",type:"primary",secondary:"",disabled:W(n).chapterList.length===0,onClick:E},{default:K(()=>[...w[2]||(w[2]=[te(" ä¸é®å¨é¨ä¸è½½ ",-1)])]),_:1},8,["disabled"])])]),W(n).detailLoading&&W(n).chapterList.length===0?(V(),Z("div",fl,[j($,{size:"large"})])):(V(),Z("div",dl,[o.value?(V(),Z("div",pl,[O("div",null," å·²é "+ne(i.value.length)+" / "+ne(W(n).chapterList.length),1),O("div",hl,[j(R,{size:"tiny",onClick:b},{default:K(()=>[te(ne(i.value.length===W(n).chapterList.length?"åæ¶å¨é":"å¨é"),1)]),_:1}),j(R,{type:"primary",size:"tiny",disabled:i.value.length===0,onClick:U},{default:K(()=>[...w[4]||(w[4]=[te(" å¼å§ä¸è½½ ",-1)])]),_:1},8,["disabled"])])])):ue("",!0),O("div",{class:"relative grid grid-cols-2 sm:grid-cols-3 gap-3",ref_key:"downloadGridRef",ref:l},[o.value?(V(!0),Z(_e,{key:1},ke(W(n).chapterList,(I,N)=>(V(),ve(Ir,{key:I.id,ref_for:!0,ref_key:"chapterItemEls",ref:p,chapter:I,"is-active":i.value.includes(I.id),"download-mode":!0,selected:i.value.includes(I.id),"download-info":m(I.id),onSelect:H=>A(I,N,H),onToggleSelect:H=>x(I,H)},null,8,["chapter","is-active","selected","download-info","onSelect","onToggleSelect"]))),128)):(V(!0),Z(_e,{key:0},ke(W(n).chapterList,I=>(V(),ve(Ir,{key:I.id,chapter:I,"is-active":W(n).currentChapter?.id===I.id,"download-mode":!1,selected:!1,"download-info":m(I.id),onSelect:()=>k(I)},null,8,["chapter","is-active","download-info","onSelect"]))),128)),s.value&&a.value&&u.value?(V(),Z("div",{key:2,class:"pointer-events-none absolute rounded-sm",style:$r(B.value)},null,4)):ue("",!0)],512)]))])])])}}}),ml=nt(vl,[["__scopeId","data-v-9c92e6e9"]]),gl={class:"w-full h-screen overflow-hidden select-none bg-[#101014] text-gray-200 flex flex-col"},Cl={class:"min-h-14 border-b border-gray-800 bg-[#18181c] flex items-center px-4 justify-between shrink-0 z-20"},yl={class:"flex items-center gap-4 min-w-0 flex-1"},El={class:"flex items-center gap-3 min-w-0 flex-1"},bl=["title"],Al={key:0,class:"bg-black/80 backdrop-blur px-4 py-1.5 rounded-full border border-gray-800 flex items-center gap-4 shadow-xl shrink-0"},Bl={class:"text-xs text-gray-300 font-bold"},wl={class:"text-xs font-mono text-green-400"},_l={class:"flex items-center gap-4 shrink-0"},Dl={class:"flex items-center gap-2"},Fl={class:"text-xs font-mono w-10 text-right text-gray-400"},Sl={class:"flex items-center bg-gray-800/50 rounded-lg p-0.5 gap-0.5 h-7"},kl={class:"bg-[#18181c] border-r border-gray-800 flex flex-col h-full"},Rl={class:"h-full flex flex-col min-h-0"},Pl={class:"p-3 flex-shrink-0 border-b border-gray-800/50"},Il={class:"flex-1 min-h-0 overflow-hidden"},Tl={class:"flex-shrink-0 border-t border-gray-800/50"},$l={class:"relative bg-[#050505] flex flex-col h-full overflow-hidden"},Ll={key:0,class:"flex-1 flex items-center justify-center text-gray-500"},Ol={key:1,class:"flex-1 overflow-auto p-6"},Ul={key:2,class:"flex-1 relative overflow-hidden"},Hl={key:0,class:"absolute inset-0 flex items-center justify-center text-gray-500"},zl={key:1,class:"w-full h-full"},Nl={key:0,class:"absolute inset-0 flex items-center justify-center z-30 bg-black/50 backdrop-blur-sm"},Ml={key:1,class:"w-full h-full viewer-container"},ql=Ae({__name:"JMComicReader",setup(r,{expose:n}){const e=Ee(),t=Ke(),o=In(),i=G(!1),c=G("detail"),l=G(null),p=G(null),s=G(.2),a=G(!1),u=G([]),f=G(!0);de(()=>c.value,S=>{e.setRightTab(S)});let v=null;const d=re({get:()=>e.imageScale,set:S=>{const g=l.value;g?.setScaleWithAnchor?g.setScaleWithAnchor(S):e.setImageScale(S)}});Sn("Tab",S=>{const g=S.target;g.tagName==="INPUT"||g.tagName==="TEXTAREA"||g.isContentEditable||(S.preventDefault(),i.value=!i.value)}),de(()=>e.currentChapter,S=>{f.value||S&&(c.value="images")}),he.on("chapter-selected",()=>{c.value="images"}),he.on("jm-download",S=>{u.value=S.chapterIds||[],u.value.length>0&&(a.value=!0)}),he.on("manual-page-change",()=>{p.value&&p.value.scrollToTop&&p.value.scrollToTop()}),de(()=>i.value,S=>{if(S)s.value=0;else{const g=localStorage.getItem("comic-reader-split-size");s.value=g?parseFloat(g):.2}}),de(()=>s.value,S=>{!i.value&&S>0&&localStorage.setItem("comic-reader-split-size",S.toString())}),de(()=>c.value,S=>{S!=="images"&&e.autoScroll?(h(),e.autoScroll=!1):S==="images"&&e.autoScroll&&C()});function C(){v||(v=window.setInterval(()=>{if(!l.value)return;const S=e.autoScrollSpeed*2;if(l.value.scrollBy){l.value.scrollBy(S);return}const g=l.value.getScrollContainer?.();if(g){g.scrollTop+=S;return}},16))}function h(){v&&(clearInterval(v),v=null)}function B(){e.autoScroll=!e.autoScroll}de(()=>e.autoScroll,S=>{S?C():h()});function m(){o.push("/local")}function x(){if(e.currentComic?.id)A(e.currentComic),t.info("å·²å·æ°å½åæ¼«ç»");else{const{handleSearch:S}=y0();S(1,!0),t.info("å·²å·æ°æç´¢åè¡¨")}}function y(S){const g=S.code,b=e.hotkeys,U=document.activeElement;if(!(U&&(U.tagName==="INPUT"||U.tagName==="TEXTAREA"||U.isContentEditable)))if(g===b.scrollDown){if(S.preventDefault(),l.value){if(l.value.scrollBy){l.value.scrollBy(100);return}const E=l.value.getScrollContainer?.();if(E){E.scrollTop+=100;return}}}else if(g===b.scrollUp){if(S.preventDefault(),l.value){if(l.value.scrollBy){l.value.scrollBy(-100);return}const E=l.value.getScrollContainer?.();if(E){E.scrollTop-=100;return}}}else g===b.autoScroll?c.value==="images"&&e.currentChapter?.id&&(S.preventDefault(),S.stopPropagation(),B()):g===b.speedUp?(S.preventDefault(),e.autoScrollSpeed=Math.min(10,e.autoScrollSpeed+1)):g===b.speedDown&&(S.preventDefault(),e.autoScrollSpeed=Math.max(1,e.autoScrollSpeed-1))}const A=async S=>{e.setCurrentComic(S),e.setChapterList([]),e.setCurrentChapter(null),e.setReadingImages([]),e.setCurrentImageIndex(0),c.value="detail",e.setDetailLoading(!0);try{const g=S.id;let b=e.cacheUtils.get(g,"details");if(!b){if(!e.api)throw new Error("API æªåå§å");b=await e.api.getComic(g),b&&e.cacheUtils.set(g,b,"details")}if(b){const U=b.id||S.id,E=b.thumb||b.cover||b.thumb_url||S.cover||"";if(e.setCurrentComic({...S,...b,title:b.title||S.title,description:b.description||b.intro||S.description,tags:b.tags||b.tag_list||S.tags||[],cover:_(E,U)}),b.series&&Array.isArray(b.series)&&b.series.length>0)e.setChapterList(b.series.map(k=>{let P=k.name;if(!P||P.trim()===""){const D=k.sort||"";P=D?`ç¬¬${D}è¯`:"æªç¥ç« è"}return{id:k.id||k.chapter_id,title:P,order:parseInt(k.sort||0)}}).sort((k,P)=>(k.order||0)-(P.order||0)));else if(b.photos&&Array.isArray(b.photos)&&b.photos.length>0)e.setChapterList(b.photos.map((k,P)=>({id:k.id||k.photo_id||k.chapter_id||P+1,title:k.title||k.name||`ç¬¬${P+1}è¯`,order:k.order||P+1})).sort((k,P)=>(k.order||0)-(P.order||0)));else if(b.chapters&&Array.isArray(b.chapters)&&b.chapters.length>0)e.setChapterList(b.chapters.map((k,P)=>({id:k.id||k.chapter_id||P+1,title:k.title||k.name||`ç¬¬${P+1}è¯`,order:k.order||P+1})).sort((k,P)=>(k.order||0)-(P.order||0)));else{const k=S.id||b?.id;e.setChapterList([{id:k,title:"ç¬¬ä¸ç« ",order:1}])}}}catch(g){console.error("è·åæ¼«ç»è¯¦æå¤±è´¥:",g)}finally{e.setDetailLoading(!1)}},_=(S,g)=>{const b=e.settings.imageDomain||"cdn-msp2.jmapiproxy2.cc";return S?S.startsWith("http://")||S.startsWith("https://")?S:S.startsWith("media/")?`https://${b}/${S}`:S.startsWith("albums/")?`https://${b}/media/${S}`:g?`https://${b}/media/albums/${g}_3x4.jpg`:`https://${b}/media/albums/${S}`:g?`https://${b}/media/albums/${g}_3x4.jpg`:""},F=async S=>{e.setCurrentChapter(S),e.setReadingImages([]),e.setCurrentChapterImages([]),e.setCurrentImageIndex(0),c.value="images",e.setDetailLoading(!0);try{const g=S.id;let b=e.cacheUtils.get(g,"chapters");if(!b){if(!e.api)throw new Error("API æªåå§å");b=await e.api.getChapterImages(g),b&&b.images&&e.cacheUtils.set(g,b,"chapters")}if(b&&b.images&&Array.isArray(b.images))e.setCurrentChapterImages(b.images),e.setReadingImages(b.images.map((U,E)=>({url:U.url,index:E})));else throw new Error("ç« èå¾çåè¡¨ä¸ºç©º")}catch(g){console.error("è·åç« èå¾çå¤±è´¥:",g)}finally{e.setDetailLoading(!1)}},T=()=>{p.value&&p.value.toggleSelectMode()};return n({handleSelectChapter:F}),Oe(async()=>{e.cacheUtils.clearExpired();const S=localStorage.getItem("comic-reader-split-size");S&&!i.value&&(s.value=parseFloat(S));const g=await e.restoreReadingState();g?g==="images"&&!e.currentChapter?c.value="detail":c.value=g:e.currentChapter?c.value="images":e.currentComic&&(c.value="detail"),e.autoScroll&&c.value==="images"&&C(),f.value=!1,window.addEventListener("keydown",y)}),d0(()=>{h(),window.removeEventListener("keydown",y),he.off("chapter-selected"),he.off("manual-page-change")}),(S,g)=>{const b=Y("n-button"),U=Y("n-slider"),E=Y("n-empty"),k=Y("n-spin"),P=Y("n-split"),D=Y("n-notification-provider"),w=Y("n-message-provider"),$=Y("n-config-provider");return V(),Z(_e,null,[j(Ki),O("div",gl,[j($,{theme:W(kn),class:"h-full overflow-hidden flex flex-col"},{default:K(()=>[j(w,{placement:"bottom-right"},{default:K(()=>[j(D,{placement:"bottom-right"},{default:K(()=>[O("header",Cl,[O("div",yl,[j(b,{text:"",onClick:g[0]||(g[0]=z=>i.value=!i.value),class:"text-gray-400 hover:text-white"},{icon:K(()=>[...g[10]||(g[10]=[O("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[O("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),_:1}),O("div",El,[O("span",{class:"font-bold text-sm text-gray-200 line-clamp-1 truncate max-w-1/3 inline-block",title:W(e).currentComic?.title},ne(W(e).currentComic?.title||"æªéæ©æ¼«ç»"),9,bl),W(e).currentChapter||W(e).readingImages.length>0?(V(),Z("div",Al,[O("span",Bl,ne(W(e).currentChapter?.title||"--"),1),g[11]||(g[11]=O("div",{class:"w-px h-3 bg-gray-600"},null,-1)),O("span",wl,ne(W(e).readingImages.length>0?`${W(e).currentImageIndex+1}/${W(e).readingImages.length}`:"--"),1)])):ue("",!0)])]),O("div",_l,[c.value==="images"?(V(),Z(_e,{key:0},[j(b,{type:W(e).autoScroll?"primary":"default",size:"small",onClick:B,disabled:c.value!=="images"||!W(e).currentChapter?.id},{icon:K(()=>[...g[12]||(g[12]=[O("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[O("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})],-1)])]),default:K(()=>[te(" "+ne(W(e).autoScroll?"åæ­¢æ»å¨":"èªå¨æ»å¨"),1)]),_:1},8,["type","disabled"]),j(b,{size:"small",onClick:x},{default:K(()=>[...g[13]||(g[13]=[te("å·æ°",-1)])]),_:1}),O("div",Dl,[g[14]||(g[14]=O("span",{class:"text-xs text-gray-400"},"ç¼©æ¾",-1)),j(U,{value:d.value,"onUpdate:value":g[1]||(g[1]=z=>d.value=z),min:10,max:100,step:5,tooltip:!1,style:{width:"100px"},size:"small"},null,8,["value"]),O("span",Fl,ne(d.value)+"%",1)])],64)):ue("",!0),O("div",Sl,[O("button",{onClick:g[2]||(g[2]=z=>c.value="detail"),class:rt(["px-3 h-full rounded-md text-xs font-medium transition-all duration-200 flex items-center justify-center",c.value==="detail"?"bg-white/15 text-gray-200 shadow-sm":"text-gray-400 hover:text-gray-300"])}," è¯¦æ ",2),O("button",{onClick:g[3]||(g[3]=z=>c.value="images"),class:rt(["px-3 h-full rounded-md text-xs font-medium transition-all duration-200 flex items-center justify-center",c.value==="images"?"bg-white/15 text-gray-200 shadow-sm":"text-gray-400 hover:text-gray-300"])}," å¾çé¢è§ ",2)]),j(b,{size:"small",onClick:g[4]||(g[4]=z=>W(e).toggleSettings())},{icon:K(()=>[...g[15]||(g[15]=[O("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[O("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),O("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])]),default:K(()=>[g[16]||(g[16]=te(" è®¾ç½® ",-1))]),_:1}),j(b,{size:"small",disabled:!W(e).currentComic?.id,onClick:g[5]||(g[5]=z=>a.value=!0)},{default:K(()=>[...g[17]||(g[17]=[te(" ä¸è½½ ",-1)])]),_:1},8,["disabled"]),j(b,{size:"small",onClick:m},{default:K(()=>[...g[18]||(g[18]=[te("ä¸»é¡µ",-1)])]),_:1})])]),j(P,{direction:"horizontal",size:s.value,"onUpdate:size":g[7]||(g[7]=z=>s.value=z),min:i.value?0:.15,max:i.value?0:.5,resizable:!i.value,class:"flex-1 h-full overflow-hidden"},{1:K(()=>[Rn(O("aside",kl,[O("div",Rl,[O("div",Pl,[j(Ta,{onShowSettings:g[6]||(g[6]=z=>W(e).toggleSettings()),onToggleSelectMode:T})]),O("div",Il,[j(si,{ref_key:"comicListRef",ref:p,"sidebar-collapsed":i.value,onSelectComic:A},null,8,["sidebar-collapsed"])]),O("div",Tl,[j(ci)])])],512),[[Pn,!i.value]])]),2:K(()=>[O("main",$l,[W(e).currentComic?.id?c.value==="detail"?(V(),Z("div",Ol,[j(ml)])):c.value==="images"?(V(),Z("div",Ul,[W(e).currentChapter?.id?(V(),Z("div",zl,[W(e).detailLoading&&W(e).readingImages.length===0?(V(),Z("div",Nl,[j(k,{size:"large"},{description:K(()=>[...g[19]||(g[19]=[O("p",{class:"mt-4"},"æ­£å¨è§£æå¾ç...",-1)])]),_:1})])):(V(),Z("div",Ml,[j(Wi,{ref_key:"imageViewerRef",ref:l},null,512)]))])):(V(),Z("div",Hl,[j(E,{description:"è¯·åéæ©ä¸ä¸ªç« è"})]))])):ue("",!0):(V(),Z("div",Ll,[j(E,{description:"è¯·ä»å·¦ä¾§éæ©æ¼«ç»"})]))])]),_:1},8,["size","min","max","resizable"]),j(Ni,{show:a.value,"chapter-ids":u.value,"onUpdate:show":g[8]||(g[8]=z=>a.value=z)},null,8,["show","chapter-ids"]),j(Bi,{show:W(e).showSettings,"onUpdate:show":g[9]||(g[9]=z=>W(e).showSettings=z)},null,8,["show"])]),_:1})]),_:1})]),_:1},8,["theme"])])],64)}}}),xc=nt(ql,[["__scopeId","data-v-e0eb1bc9"]]);export{xc as default};
